{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nvar AIChatScreen = function AIChatScreen() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    messages = _useState2[0],\n    setMessages = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    inputMessage = _useState4[0],\n    setInputMessage = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isLoading = _useState6[0],\n    setIsLoading = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    systemStatus = _useState8[0],\n    setSystemStatus = _useState8[1];\n  var _useState9 = useState(false),\n    _useState0 = _slicedToArray(_useState9, 2),\n    showDatePicker = _useState0[0],\n    setShowDatePicker = _useState0[1];\n  var _useState1 = useState(''),\n    _useState10 = _slicedToArray(_useState1, 2),\n    startDate = _useState10[0],\n    setStartDate = _useState10[1];\n  var _useState11 = useState(''),\n    _useState12 = _slicedToArray(_useState11, 2),\n    endDate = _useState12[0],\n    setEndDate = _useState12[1];\n  var _useState13 = useState('00:00'),\n    _useState14 = _slicedToArray(_useState13, 2),\n    startTime = _useState14[0],\n    setStartTime = _useState14[1];\n  var _useState15 = useState('23:59'),\n    _useState16 = _slicedToArray(_useState15, 2),\n    endTime = _useState16[0],\n    setEndTime = _useState16[1];\n  var _useState17 = useState(false),\n    _useState18 = _slicedToArray(_useState17, 2),\n    isAnalyzing = _useState18[0],\n    setIsAnalyzing = _useState18[1];\n  var _useState19 = useState(''),\n    _useState20 = _slicedToArray(_useState19, 2),\n    analysisQuestion = _useState20[0],\n    setAnalysisQuestion = _useState20[1];\n  var scrollViewRef = useRef(null);\n  var scrollToBottom = function scrollToBottom() {\n    var _scrollViewRef$curren;\n    (_scrollViewRef$curren = scrollViewRef.current) == null ? void 0 : _scrollViewRef$curren.scrollToEnd({\n      animated: true\n    });\n  };\n  useEffect(function () {\n    scrollToBottom();\n  }, [messages]);\n  useEffect(function () {\n    checkHealth();\n    var now = new Date();\n    var today = now.toISOString().slice(0, 10);\n    setStartDate(today);\n    setEndDate(today);\n    setStartTime('00:00');\n    setEndTime('23:59');\n  }, []);\n  var handleStartDateChange = function handleStartDateChange(newDate) {\n    setStartDate(newDate);\n    if (newDate === endDate) {\n      setStartTime('00:00');\n      setEndTime('23:59');\n    }\n  };\n  var handleEndDateChange = function handleEndDateChange(newDate) {\n    setEndDate(newDate);\n    if (newDate === startDate) {\n      setStartTime('00:00');\n      setEndTime('23:59');\n    }\n  };\n  var checkHealth = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var response = yield fetch('http://192.168.43.147:5000/api/health');\n        var data = yield response.json();\n        setSystemStatus(data);\n      } catch (error) {\n        setSystemStatus({\n          status: 'Backend Offline',\n          database: 'Unknown',\n          ollama_server: 'Unknown'\n        });\n      }\n    });\n    return function checkHealth() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var fetchDateRangeAnalysis = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (!startDate || !endDate) {\n        alert('Please select both start and end dates');\n        return;\n      }\n      setIsAnalyzing(true);\n      try {\n        var fullStartDate = `${startDate}T${startTime}`;\n        var fullEndDate = `${endDate}T${endTime}`;\n        var response = yield fetch('http://192.168.43.147:5000/api/date-range-analysis', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            start_date: fullStartDate,\n            end_date: fullEndDate,\n            question: analysisQuestion\n          })\n        });\n        var data = yield response.json();\n        var dateDisplay = startDate === endDate ? `${new Date(startDate).toLocaleDateString()} (${startTime} - ${endTime})` : `${new Date(startDate).toLocaleDateString()} ${startTime} to ${new Date(endDate).toLocaleDateString()} ${endTime}`;\n        setMessages(function (prev) {\n          return [].concat(_toConsumableArray(prev), [{\n            type: 'analysis',\n            content: `ğŸ“… Analysis for ${dateDisplay}${analysisQuestion ? ` - \"${analysisQuestion}\"` : ''}`,\n            analysisData: data\n          }]);\n        });\n      } catch (error) {\n        console.error('Date range analysis error:', error);\n        alert('Failed to fetch date range analysis');\n      } finally {\n        setIsAnalyzing(false);\n      }\n    });\n    return function fetchDateRangeAnalysis() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var sendMessage = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      if (!inputMessage.trim() || isLoading) return;\n      var userMessage = inputMessage.trim();\n      setInputMessage('');\n      setMessages(function (prev) {\n        return [].concat(_toConsumableArray(prev), [{\n          type: 'user',\n          content: userMessage\n        }]);\n      });\n      setIsLoading(true);\n      try {\n        var response = yield fetch('http://192.168.43.147:5000/api/chat', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            message: userMessage\n          })\n        });\n        var data = yield response.json();\n        setMessages(function (prev) {\n          return [].concat(_toConsumableArray(prev), [{\n            type: 'ai',\n            content: data.response,\n            meterData: data.meter_data,\n            solarData: data.solar_data,\n            gridStatus: data.grid_status,\n            historicalData: data.historical_data\n          }]);\n        });\n      } catch (error) {\n        setMessages(function (prev) {\n          return [].concat(_toConsumableArray(prev), [{\n            type: 'error',\n            content: 'Error: Could not connect to the server. Make sure the backend is running on port 5000.'\n          }]);\n        });\n      } finally {\n        setIsLoading(false);\n      }\n    });\n    return function sendMessage() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var formatTime = function formatTime(timestamp) {\n    if (!timestamp) return '';\n    var date = new Date(timestamp);\n    return date.toLocaleString();\n  };\n  var setQuickRange = function setQuickRange(type) {\n    var now = new Date();\n    var today = now.toISOString().slice(0, 10);\n    var currentTime = now.toTimeString().slice(0, 5);\n    switch (type) {\n      case 'today':\n        setStartDate(today);\n        setEndDate(today);\n        setStartTime('00:00');\n        setEndTime('23:59');\n        break;\n      case '1hour':\n        var pastTime1h = new Date(now.getTime() - 1 * 60 * 60 * 1000).toTimeString().slice(0, 5);\n        setStartDate(today);\n        setEndDate(today);\n        setStartTime(pastTime1h);\n        setEndTime(currentTime);\n        break;\n      case '6hours':\n        var past6h = new Date(now.getTime() - 6 * 60 * 60 * 1000);\n        setStartDate(past6h.toISOString().slice(0, 10));\n        setEndDate(today);\n        setStartTime(past6h.toTimeString().slice(0, 5));\n        setEndTime(currentTime);\n        break;\n      case '24hours':\n        var past24h = new Date(now.getTime() - 24 * 60 * 60 * 1000);\n        setStartDate(past24h.toISOString().slice(0, 10));\n        setEndDate(today);\n        setStartTime(past24h.toTimeString().slice(0, 5));\n        setEndTime(currentTime);\n        break;\n      case '7days':\n        var past7d = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\n        setStartDate(past7d.toISOString().slice(0, 10));\n        setEndDate(today);\n        setStartTime('00:00');\n        setEndTime('23:59');\n        break;\n    }\n  };\n  var renderDataCard = function renderDataCard(item, type, idx) {\n    var isSolar = type === 'solar';\n    var isPeak = type === 'peak';\n    var isLow = type === 'low';\n    var isStats = type === 'stats';\n    return _jsxs(View, {\n      style: [styles.dataCard, isSolar && styles.solarCard, isPeak && styles.peakCard, isLow && styles.lowCard, isStats && styles.statsCard],\n      children: [_jsx(Text, {\n        style: styles.cardTitle,\n        children: isStats ? `Meter ${item.meter_id}` : isPeak ? `Meter ${item.meter_id} - PEAK` : isLow ? `Meter ${item.meter_id} - LOW` : isSolar ? `Panel ${item.panel_id}` : `Meter ${item.meter_id}`\n      }), isStats ? _jsxs(_Fragment, {\n        children: [_jsxs(Text, {\n          style: styles.cardText,\n          children: [\"Readings: \", item.total_readings]\n        }), _jsxs(Text, {\n          style: styles.cardText,\n          children: [\"Avg Power: \", item.avg_power, \"W\"]\n        }), _jsxs(Text, {\n          style: styles.cardText,\n          children: [\"Max Power: \", item.max_power, \"W\"]\n        }), _jsxs(Text, {\n          style: styles.cardText,\n          children: [\"Min Power: \", item.min_power, \"W\"]\n        }), _jsxs(Text, {\n          style: styles.cardText,\n          children: [\"Avg Voltage: \", item.avg_voltage, \"V\"]\n        }), _jsxs(Text, {\n          style: styles.cardText,\n          children: [\"Avg PF: \", item.avg_pf]\n        })]\n      }) : isPeak || isLow ? _jsxs(_Fragment, {\n        children: [_jsxs(Text, {\n          style: styles.cardText,\n          children: [\"\\uD83D\\uDD50 \", formatTime(item.time)]\n        }), _jsxs(Text, {\n          style: styles.cardText,\n          children: [\"\\u26A1 \", item.power.toFixed(1), \"W\"]\n        })]\n      }) : _jsxs(_Fragment, {\n        children: [_jsxs(Text, {\n          style: styles.cardText,\n          children: [\"\\u26A1 \", item.voltage.toFixed(1), \"V\"]\n        }), _jsxs(Text, {\n          style: styles.cardText,\n          children: [\"\\uD83D\\uDD0C \", item.current.toFixed(2), \"A\"]\n        }), _jsxs(Text, {\n          style: styles.cardText,\n          children: [\"\\uD83D\\uDCA1 \", item.power.toFixed(1), \"W\"]\n        }), item.pf && _jsxs(Text, {\n          style: styles.cardText,\n          children: [\"\\uD83D\\uDCC8 PF: \", item.pf.toFixed(2)]\n        }), _jsxs(Text, {\n          style: styles.cardText,\n          children: [\"\\uD83D\\uDD27 \", item.state]\n        }), item.timestamp && _jsxs(Text, {\n          style: styles.timestamp,\n          children: [\"\\uD83D\\uDD50 \", formatTime(item.timestamp)]\n        })]\n      })]\n    }, idx);\n  };\n  var renderMessage = function renderMessage(msg, index) {\n    var _msg$gridStatus, _msg$gridStatus$alert, _msg$analysisData$ins, _msg$analysisData$rec, _msg$analysisData$pea, _msg$analysisData$low, _msg$analysisData$met, _msg$meterData, _msg$solarData;\n    var isUser = msg.type === 'user';\n    var isAI = msg.type === 'ai';\n    var isError = msg.type === 'error';\n    var isAnalysis = msg.type === 'analysis';\n    return _jsx(View, {\n      style: [styles.messageContainer, isUser && styles.userMessageContainer],\n      children: _jsxs(View, {\n        style: [styles.messageBubble, isUser && styles.userBubble, isAI && styles.aiBubble, isError && styles.errorBubble, isAnalysis && styles.analysisBubble],\n        children: [_jsx(View, {\n          style: styles.messageHeader,\n          children: _jsx(Text, {\n            style: styles.messageIcon,\n            children: isUser ? 'ğŸ‘¤' : isAI ? 'ğŸ¤–' : isError ? 'âš ï¸' : 'ğŸ“Š'\n          })\n        }), ((_msg$gridStatus = msg.gridStatus) == null ? void 0 : (_msg$gridStatus$alert = _msg$gridStatus.alerts) == null ? void 0 : _msg$gridStatus$alert.length) > 0 && _jsx(View, {\n          style: styles.alertsContainer,\n          children: msg.gridStatus.alerts.map(function (alert, idx) {\n            return _jsx(View, {\n              style: styles.alertBadge,\n              children: _jsx(Text, {\n                style: styles.alertText,\n                children: alert\n              })\n            }, idx);\n          })\n        }), _jsx(Text, {\n          style: [styles.messageText, isUser && styles.userMessageText],\n          children: msg.content\n        }), isAnalysis && msg.analysisData && _jsxs(View, {\n          style: styles.analysisResults,\n          children: [((_msg$analysisData$ins = msg.analysisData.insights) == null ? void 0 : _msg$analysisData$ins.length) > 0 && _jsxs(View, {\n            style: styles.section,\n            children: [_jsx(Text, {\n              style: styles.sectionTitle,\n              children: \"\\uD83D\\uDCA1 Insights\"\n            }), msg.analysisData.insights.map(function (insight, idx) {\n              return _jsx(Text, {\n                style: styles.insightText,\n                children: insight\n              }, idx);\n            })]\n          }), ((_msg$analysisData$rec = msg.analysisData.recommendations) == null ? void 0 : _msg$analysisData$rec.length) > 0 && _jsxs(View, {\n            style: styles.section,\n            children: [_jsx(Text, {\n              style: styles.sectionTitle,\n              children: \"\\uD83D\\uDD27 Recommendations\"\n            }), msg.analysisData.recommendations.map(function (rec, idx) {\n              return _jsx(Text, {\n                style: styles.recommendationText,\n                children: rec\n              }, idx);\n            })]\n          }), ((_msg$analysisData$pea = msg.analysisData.peak_times) == null ? void 0 : _msg$analysisData$pea.length) > 0 && _jsxs(View, {\n            style: styles.section,\n            children: [_jsx(Text, {\n              style: styles.sectionTitle,\n              children: \"\\uD83D\\uDCC8 Peak Consumption Times\"\n            }), _jsx(ScrollView, {\n              horizontal: true,\n              showsHorizontalScrollIndicator: false,\n              children: msg.analysisData.peak_times.map(function (peak, idx) {\n                return renderDataCard(peak, 'peak', idx);\n              })\n            })]\n          }), ((_msg$analysisData$low = msg.analysisData.low_times) == null ? void 0 : _msg$analysisData$low.length) > 0 && _jsxs(View, {\n            style: styles.section,\n            children: [_jsx(Text, {\n              style: styles.sectionTitle,\n              children: \"\\uD83D\\uDCC9 Low Consumption Times\"\n            }), _jsx(ScrollView, {\n              horizontal: true,\n              showsHorizontalScrollIndicator: false,\n              children: msg.analysisData.low_times.map(function (low, idx) {\n                return renderDataCard(low, 'low', idx);\n              })\n            })]\n          }), ((_msg$analysisData$met = msg.analysisData.meter_analysis) == null ? void 0 : _msg$analysisData$met.statistics) && _jsxs(View, {\n            style: styles.section,\n            children: [_jsx(Text, {\n              style: styles.sectionTitle,\n              children: \"\\uD83D\\uDCCA Statistics Summary\"\n            }), _jsx(ScrollView, {\n              horizontal: true,\n              showsHorizontalScrollIndicator: false,\n              children: msg.analysisData.meter_analysis.statistics.map(function (stat, idx) {\n                return renderDataCard(stat, 'stats', idx);\n              })\n            })]\n          })]\n        }), ((_msg$meterData = msg.meterData) == null ? void 0 : _msg$meterData.length) > 0 && _jsxs(View, {\n          style: styles.section,\n          children: [_jsx(Text, {\n            style: styles.sectionTitle,\n            children: \"\\uD83D\\uDCCA Meter Data\"\n          }), _jsx(ScrollView, {\n            horizontal: true,\n            showsHorizontalScrollIndicator: false,\n            children: msg.meterData.map(function (meter, idx) {\n              return renderDataCard(meter, 'meter', idx);\n            })\n          })]\n        }), ((_msg$solarData = msg.solarData) == null ? void 0 : _msg$solarData.length) > 0 && _jsxs(View, {\n          style: styles.section,\n          children: [_jsx(Text, {\n            style: styles.sectionTitle,\n            children: \"\\u2600\\uFE0F Solar Panels\"\n          }), _jsx(ScrollView, {\n            horizontal: true,\n            showsHorizontalScrollIndicator: false,\n            children: msg.solarData.map(function (panel, idx) {\n              return renderDataCard(panel, 'solar', idx);\n            })\n          })]\n        })]\n      })\n    }, index);\n  };\n  return _jsx(SafeAreaView, {\n    style: styles.container,\n    children: _jsxs(LinearGradient, {\n      colors: ['#0f172a', '#1e293b'],\n      style: styles.gradient,\n      children: [_jsxs(View, {\n        style: styles.header,\n        children: [_jsx(Text, {\n          style: styles.headerTitle,\n          children: \"\\u26A1 Microgrid AI Assistant\"\n        }), _jsxs(View, {\n          style: styles.statusBar,\n          children: [_jsx(View, {\n            style: [styles.statusItem, (systemStatus == null ? void 0 : systemStatus.database) === 'Connected' && styles.statusOnline],\n            children: _jsxs(Text, {\n              style: styles.statusText,\n              children: [\"\\uD83D\\uDDC4\\uFE0F DB: \", (systemStatus == null ? void 0 : systemStatus.database) || 'Checking...']\n            })\n          }), _jsx(View, {\n            style: [styles.statusItem, (systemStatus == null ? void 0 : systemStatus.ollama_server) === 'Connected' && styles.statusOnline],\n            children: _jsxs(Text, {\n              style: styles.statusText,\n              children: [\"\\uD83E\\uDD16 LLM: \", (systemStatus == null ? void 0 : systemStatus.ollama_server) || 'Checking...']\n            })\n          })]\n        }), _jsx(TouchableOpacity, {\n          style: styles.datePickerToggle,\n          onPress: function onPress() {\n            return setShowDatePicker(!showDatePicker);\n          },\n          children: _jsx(Text, {\n            style: styles.datePickerToggleText,\n            children: \"\\uD83D\\uDCC5 Date Analysis\"\n          })\n        })]\n      }), showDatePicker && _jsxs(View, {\n        style: styles.datePickerPanel,\n        children: [_jsx(Text, {\n          style: styles.panelTitle,\n          children: \"\\uD83D\\uDCCA Date Range Analysis\"\n        }), _jsx(TextInput, {\n          style: styles.analysisInput,\n          placeholder: \"What do you want to analyze? (e.g., 'voltage for meter 1')\",\n          placeholderTextColor: \"#94a3b8\",\n          value: analysisQuestion,\n          onChangeText: setAnalysisQuestion\n        }), _jsxs(View, {\n          style: styles.dateInputsRow,\n          children: [_jsxs(View, {\n            style: styles.dateInputGroup,\n            children: [_jsx(Text, {\n              style: styles.inputLabel,\n              children: \"Start Date\"\n            }), _jsx(TextInput, {\n              style: styles.dateInput,\n              value: startDate,\n              onChangeText: handleStartDateChange,\n              placeholder: \"YYYY-MM-DD\",\n              placeholderTextColor: \"#94a3b8\"\n            }), _jsx(TextInput, {\n              style: styles.timeInput,\n              value: startTime,\n              onChangeText: setStartTime,\n              placeholder: \"HH:MM\",\n              placeholderTextColor: \"#94a3b8\"\n            })]\n          }), _jsxs(View, {\n            style: styles.dateInputGroup,\n            children: [_jsx(Text, {\n              style: styles.inputLabel,\n              children: \"End Date\"\n            }), _jsx(TextInput, {\n              style: styles.dateInput,\n              value: endDate,\n              onChangeText: handleEndDateChange,\n              placeholder: \"YYYY-MM-DD\",\n              placeholderTextColor: \"#94a3b8\"\n            }), _jsx(TextInput, {\n              style: styles.timeInput,\n              value: endTime,\n              onChangeText: setEndTime,\n              placeholder: \"HH:MM\",\n              placeholderTextColor: \"#94a3b8\"\n            })]\n          })]\n        }), _jsx(TouchableOpacity, {\n          style: [styles.analyzeBtn, isAnalyzing && styles.analyzeBtnDisabled],\n          onPress: fetchDateRangeAnalysis,\n          disabled: isAnalyzing,\n          children: _jsx(Text, {\n            style: styles.analyzeBtnText,\n            children: isAnalyzing ? 'â³ Analyzing...' : 'ğŸ” Analyze Period'\n          })\n        }), _jsxs(View, {\n          style: styles.quickRanges,\n          children: [_jsx(TouchableOpacity, {\n            style: styles.quickBtn,\n            onPress: function onPress() {\n              return setQuickRange('today');\n            },\n            children: _jsx(Text, {\n              style: styles.quickBtnText,\n              children: \"Today\"\n            })\n          }), _jsx(TouchableOpacity, {\n            style: styles.quickBtn,\n            onPress: function onPress() {\n              return setQuickRange('1hour');\n            },\n            children: _jsx(Text, {\n              style: styles.quickBtnText,\n              children: \"1 Hour\"\n            })\n          }), _jsx(TouchableOpacity, {\n            style: styles.quickBtn,\n            onPress: function onPress() {\n              return setQuickRange('6hours');\n            },\n            children: _jsx(Text, {\n              style: styles.quickBtnText,\n              children: \"6 Hours\"\n            })\n          }), _jsx(TouchableOpacity, {\n            style: styles.quickBtn,\n            onPress: function onPress() {\n              return setQuickRange('24hours');\n            },\n            children: _jsx(Text, {\n              style: styles.quickBtnText,\n              children: \"24 Hours\"\n            })\n          }), _jsx(TouchableOpacity, {\n            style: styles.quickBtn,\n            onPress: function onPress() {\n              return setQuickRange('7days');\n            },\n            children: _jsx(Text, {\n              style: styles.quickBtnText,\n              children: \"7 Days\"\n            })\n          })]\n        })]\n      }), _jsxs(KeyboardAvoidingView, {\n        style: styles.chatContainer,\n        behavior: Platform.OS === 'ios' ? 'padding' : 'height',\n        keyboardVerticalOffset: Platform.OS === 'ios' ? 90 : 0,\n        children: [_jsxs(ScrollView, {\n          ref: scrollViewRef,\n          style: styles.messagesContainer,\n          contentContainerStyle: styles.messagesContent,\n          onContentSizeChange: scrollToBottom,\n          children: [messages.length === 0 && _jsxs(View, {\n            style: styles.welcomeMessage,\n            children: [_jsx(Text, {\n              style: styles.welcomeTitle,\n              children: \"Welcome to Microgrid AI Assistant! \\uD83D\\uDC4B\"\n            }), _jsx(Text, {\n              style: styles.welcomeText,\n              children: \"I can help you analyze your microgrid data including:\"\n            }), _jsxs(View, {\n              style: styles.welcomeList,\n              children: [_jsx(Text, {\n                style: styles.welcomeItem,\n                children: \"\\uD83D\\uDCCA Meter readings (voltage, current, power, energy)\"\n              }), _jsx(Text, {\n                style: styles.welcomeItem,\n                children: \"\\u2600\\uFE0F Solar panel performance\"\n              }), _jsx(Text, {\n                style: styles.welcomeItem,\n                children: \"\\u26A1 Power quality analysis\"\n              }), _jsx(Text, {\n                style: styles.welcomeItem,\n                children: \"\\uD83D\\uDCA1 Energy efficiency recommendations\"\n              }), _jsx(Text, {\n                style: styles.welcomeItem,\n                children: \"\\uD83D\\uDCC5 Historical data analysis with date ranges\"\n              }), _jsx(Text, {\n                style: styles.welcomeItem,\n                children: \"\\uD83D\\uDCC8 Peak & low consumption detection\"\n              })]\n            }), _jsx(Text, {\n              style: styles.welcomeTip,\n              children: \"Try asking: \\\"What is the current power consumption?\\\" or use the \\uD83D\\uDCC5 Date Analysis button above!\"\n            })]\n          }), messages.map(function (msg, index) {\n            return renderMessage(msg, index);\n          }), isLoading && _jsx(View, {\n            style: [styles.messageContainer],\n            children: _jsxs(View, {\n              style: [styles.messageBubble, styles.aiBubble],\n              children: [_jsx(Text, {\n                style: styles.messageIcon,\n                children: \"\\uD83E\\uDD16\"\n              }), _jsxs(View, {\n                style: styles.loadingContainer,\n                children: [_jsx(ActivityIndicator, {\n                  size: \"small\",\n                  color: \"#6366f1\"\n                }), _jsx(Text, {\n                  style: styles.loadingText,\n                  children: \"Thinking...\"\n                })]\n              })]\n            })\n          })]\n        }), _jsxs(View, {\n          style: styles.inputContainer,\n          children: [_jsx(TextInput, {\n            style: styles.input,\n            value: inputMessage,\n            onChangeText: setInputMessage,\n            placeholder: \"Ask about your microgrid data...\",\n            placeholderTextColor: \"#94a3b8\",\n            multiline: true,\n            editable: !isLoading\n          }), _jsx(TouchableOpacity, {\n            style: [styles.sendButton, (!inputMessage.trim() || isLoading) && styles.sendButtonDisabled],\n            onPress: sendMessage,\n            disabled: isLoading || !inputMessage.trim(),\n            children: _jsx(Text, {\n              style: styles.sendButtonText,\n              children: isLoading ? 'â³' : 'ğŸ“¤'\n            })\n          })]\n        })]\n      })]\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#0f172a'\n  },\n  gradient: {\n    flex: 1\n  },\n  header: {\n    padding: 16,\n    paddingTop: Platform.OS === 'android' ? 40 : 16,\n    borderBottomWidth: 1,\n    borderBottomColor: '#334155'\n  },\n  headerTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#ffffff',\n    textAlign: 'center',\n    marginBottom: 12\n  },\n  statusBar: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    gap: 12,\n    marginBottom: 12\n  },\n  statusItem: {\n    backgroundColor: '#334155',\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 20\n  },\n  statusOnline: {\n    backgroundColor: '#166534'\n  },\n  statusText: {\n    color: '#ffffff',\n    fontSize: 12\n  },\n  datePickerToggle: {\n    backgroundColor: '#6366f1',\n    paddingHorizontal: 16,\n    paddingVertical: 10,\n    borderRadius: 8,\n    alignSelf: 'center'\n  },\n  datePickerToggleText: {\n    color: '#ffffff',\n    fontWeight: '600'\n  },\n  datePickerPanel: {\n    backgroundColor: '#1e293b',\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: '#334155'\n  },\n  panelTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#ffffff',\n    marginBottom: 12\n  },\n  analysisInput: {\n    backgroundColor: '#334155',\n    borderRadius: 8,\n    padding: 12,\n    color: '#ffffff',\n    marginBottom: 12\n  },\n  dateInputsRow: {\n    flexDirection: 'row',\n    gap: 12,\n    marginBottom: 12\n  },\n  dateInputGroup: {\n    flex: 1\n  },\n  inputLabel: {\n    color: '#94a3b8',\n    marginBottom: 4,\n    fontSize: 12\n  },\n  dateInput: {\n    backgroundColor: '#334155',\n    borderRadius: 8,\n    padding: 10,\n    color: '#ffffff',\n    marginBottom: 8\n  },\n  timeInput: {\n    backgroundColor: '#334155',\n    borderRadius: 8,\n    padding: 10,\n    color: '#ffffff'\n  },\n  analyzeBtn: {\n    backgroundColor: '#10b981',\n    paddingVertical: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginBottom: 12\n  },\n  analyzeBtnDisabled: {\n    backgroundColor: '#6b7280'\n  },\n  analyzeBtnText: {\n    color: '#ffffff',\n    fontWeight: '600',\n    fontSize: 16\n  },\n  quickRanges: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 8\n  },\n  quickBtn: {\n    backgroundColor: '#475569',\n    paddingHorizontal: 12,\n    paddingVertical: 8,\n    borderRadius: 6\n  },\n  quickBtnText: {\n    color: '#ffffff',\n    fontSize: 12\n  },\n  chatContainer: {\n    flex: 1\n  },\n  messagesContainer: {\n    flex: 1\n  },\n  messagesContent: {\n    padding: 16,\n    paddingBottom: 20\n  },\n  welcomeMessage: {\n    backgroundColor: '#1e293b',\n    borderRadius: 12,\n    padding: 20,\n    marginBottom: 16\n  },\n  welcomeTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#ffffff',\n    marginBottom: 12\n  },\n  welcomeText: {\n    color: '#94a3b8',\n    marginBottom: 12\n  },\n  welcomeList: {\n    marginBottom: 12\n  },\n  welcomeItem: {\n    color: '#cbd5e1',\n    marginBottom: 6,\n    paddingLeft: 8\n  },\n  welcomeTip: {\n    color: '#6366f1',\n    fontStyle: 'italic'\n  },\n  messageContainer: {\n    marginBottom: 12\n  },\n  userMessageContainer: {\n    alignItems: 'flex-end'\n  },\n  messageBubble: {\n    maxWidth: '85%',\n    borderRadius: 16,\n    padding: 12\n  },\n  userBubble: {\n    backgroundColor: '#6366f1'\n  },\n  aiBubble: {\n    backgroundColor: '#1e293b'\n  },\n  errorBubble: {\n    backgroundColor: '#7f1d1d'\n  },\n  analysisBubble: {\n    backgroundColor: '#1e293b',\n    maxWidth: '100%'\n  },\n  messageHeader: {\n    marginBottom: 4\n  },\n  messageIcon: {\n    fontSize: 16\n  },\n  messageText: {\n    color: '#ffffff',\n    fontSize: 15,\n    lineHeight: 22\n  },\n  userMessageText: {\n    color: '#ffffff'\n  },\n  alertsContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 6,\n    marginBottom: 8\n  },\n  alertBadge: {\n    backgroundColor: '#dc2626',\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 4\n  },\n  alertText: {\n    color: '#ffffff',\n    fontSize: 12\n  },\n  analysisResults: {\n    marginTop: 12\n  },\n  section: {\n    marginTop: 16\n  },\n  sectionTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#ffffff',\n    marginBottom: 8\n  },\n  insightText: {\n    color: '#10b981',\n    marginBottom: 4,\n    paddingLeft: 8\n  },\n  recommendationText: {\n    color: '#f59e0b',\n    marginBottom: 4,\n    paddingLeft: 8\n  },\n  dataCard: {\n    backgroundColor: '#334155',\n    borderRadius: 12,\n    padding: 12,\n    marginRight: 12,\n    minWidth: 140\n  },\n  solarCard: {\n    backgroundColor: '#854d0e'\n  },\n  peakCard: {\n    backgroundColor: '#7f1d1d'\n  },\n  lowCard: {\n    backgroundColor: '#14532d'\n  },\n  statsCard: {\n    backgroundColor: '#3730a3'\n  },\n  cardTitle: {\n    color: '#ffffff',\n    fontWeight: 'bold',\n    marginBottom: 8\n  },\n  cardText: {\n    color: '#cbd5e1',\n    fontSize: 13,\n    marginBottom: 2\n  },\n  timestamp: {\n    color: '#94a3b8',\n    fontSize: 11,\n    marginTop: 4\n  },\n  loadingContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8\n  },\n  loadingText: {\n    color: '#94a3b8'\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    padding: 16,\n    backgroundColor: '#1e293b',\n    borderTopWidth: 1,\n    borderTopColor: '#334155',\n    alignItems: 'flex-end'\n  },\n  input: {\n    flex: 1,\n    backgroundColor: '#334155',\n    borderRadius: 20,\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    color: '#ffffff',\n    maxHeight: 100,\n    marginRight: 12\n  },\n  sendButton: {\n    backgroundColor: '#6366f1',\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  sendButtonDisabled: {\n    backgroundColor: '#475569'\n  },\n  sendButtonText: {\n    fontSize: 20\n  }\n});\nexport default AIChatScreen;","map":{"version":3,"names":["React","useState","useRef","useEffect","View","Text","TextInput","TouchableOpacity","ScrollView","StyleSheet","ActivityIndicator","Platform","KeyboardAvoidingView","SafeAreaView","LinearGradient","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AIChatScreen","_useState","_useState2","_slicedToArray","messages","setMessages","_useState3","_useState4","inputMessage","setInputMessage","_useState5","_useState6","isLoading","setIsLoading","_useState7","_useState8","systemStatus","setSystemStatus","_useState9","_useState0","showDatePicker","setShowDatePicker","_useState1","_useState10","startDate","setStartDate","_useState11","_useState12","endDate","setEndDate","_useState13","_useState14","startTime","setStartTime","_useState15","_useState16","endTime","setEndTime","_useState17","_useState18","isAnalyzing","setIsAnalyzing","_useState19","_useState20","analysisQuestion","setAnalysisQuestion","scrollViewRef","scrollToBottom","_scrollViewRef$curren","current","scrollToEnd","animated","checkHealth","now","Date","today","toISOString","slice","handleStartDateChange","newDate","handleEndDateChange","_ref","_asyncToGenerator","response","fetch","data","json","error","status","database","ollama_server","apply","arguments","fetchDateRangeAnalysis","_ref2","alert","fullStartDate","fullEndDate","method","headers","body","JSON","stringify","start_date","end_date","question","dateDisplay","toLocaleDateString","prev","concat","_toConsumableArray","type","content","analysisData","console","sendMessage","_ref3","trim","userMessage","message","meterData","meter_data","solarData","solar_data","gridStatus","grid_status","historicalData","historical_data","formatTime","timestamp","date","toLocaleString","setQuickRange","currentTime","toTimeString","pastTime1h","getTime","past6h","past24h","past7d","renderDataCard","item","idx","isSolar","isPeak","isLow","isStats","style","styles","dataCard","solarCard","peakCard","lowCard","statsCard","children","cardTitle","meter_id","panel_id","cardText","total_readings","avg_power","max_power","min_power","avg_voltage","avg_pf","time","power","toFixed","voltage","pf","state","renderMessage","msg","index","_msg$gridStatus","_msg$gridStatus$alert","_msg$analysisData$ins","_msg$analysisData$rec","_msg$analysisData$pea","_msg$analysisData$low","_msg$analysisData$met","_msg$meterData","_msg$solarData","isUser","isAI","isError","isAnalysis","messageContainer","userMessageContainer","messageBubble","userBubble","aiBubble","errorBubble","analysisBubble","messageHeader","messageIcon","alerts","length","alertsContainer","map","alertBadge","alertText","messageText","userMessageText","analysisResults","insights","section","sectionTitle","insight","insightText","recommendations","rec","recommendationText","peak_times","horizontal","showsHorizontalScrollIndicator","peak","low_times","low","meter_analysis","statistics","stat","meter","panel","container","colors","gradient","header","headerTitle","statusBar","statusItem","statusOnline","statusText","datePickerToggle","onPress","datePickerToggleText","datePickerPanel","panelTitle","analysisInput","placeholder","placeholderTextColor","value","onChangeText","dateInputsRow","dateInputGroup","inputLabel","dateInput","timeInput","analyzeBtn","analyzeBtnDisabled","disabled","analyzeBtnText","quickRanges","quickBtn","quickBtnText","chatContainer","behavior","OS","keyboardVerticalOffset","ref","messagesContainer","contentContainerStyle","messagesContent","onContentSizeChange","welcomeMessage","welcomeTitle","welcomeText","welcomeList","welcomeItem","welcomeTip","loadingContainer","size","color","loadingText","inputContainer","input","multiline","editable","sendButton","sendButtonDisabled","sendButtonText","create","flex","backgroundColor","padding","paddingTop","borderBottomWidth","borderBottomColor","fontSize","fontWeight","textAlign","marginBottom","flexDirection","justifyContent","gap","paddingHorizontal","paddingVertical","borderRadius","alignSelf","alignItems","flexWrap","paddingBottom","paddingLeft","fontStyle","maxWidth","lineHeight","marginTop","marginRight","minWidth","borderTopWidth","borderTopColor","maxHeight","width","height"],"sources":["C:/Users/mohan/OneDrive/Desktop/Mohan/Microgrid app/src/screens/AIChatScreen.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  ScrollView,\r\n  StyleSheet,\r\n  ActivityIndicator,\r\n  Platform,\r\n  KeyboardAvoidingView,\r\n  SafeAreaView,\r\n} from 'react-native';\r\nimport { LinearGradient } from 'expo-linear-gradient';\r\n\r\nconst AIChatScreen = () => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [inputMessage, setInputMessage] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [systemStatus, setSystemStatus] = useState(null);\r\n  const [showDatePicker, setShowDatePicker] = useState(false);\r\n  const [startDate, setStartDate] = useState('');\r\n  const [endDate, setEndDate] = useState('');\r\n  const [startTime, setStartTime] = useState('00:00');\r\n  const [endTime, setEndTime] = useState('23:59');\r\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\r\n  const [analysisQuestion, setAnalysisQuestion] = useState('');\r\n  const scrollViewRef = useRef(null);\r\n\r\n  const scrollToBottom = () => {\r\n    scrollViewRef.current?.scrollToEnd({ animated: true });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  useEffect(() => {\r\n    checkHealth();\r\n    const now = new Date();\r\n    const today = now.toISOString().slice(0, 10);\r\n    setStartDate(today);\r\n    setEndDate(today);\r\n    setStartTime('00:00');\r\n    setEndTime('23:59');\r\n  }, []);\r\n\r\n  const handleStartDateChange = (newDate) => {\r\n    setStartDate(newDate);\r\n    if (newDate === endDate) {\r\n      setStartTime('00:00');\r\n      setEndTime('23:59');\r\n    }\r\n  };\r\n\r\n  const handleEndDateChange = (newDate) => {\r\n    setEndDate(newDate);\r\n    if (newDate === startDate) {\r\n      setStartTime('00:00');\r\n      setEndTime('23:59');\r\n    }\r\n  };\r\n\r\n  const checkHealth = async () => {\r\n    try {\r\n      const response = await fetch('http://192.168.43.147:5000/api/health');\r\n      const data = await response.json();\r\n      setSystemStatus(data);\r\n    } catch (error) {\r\n      setSystemStatus({ status: 'Backend Offline', database: 'Unknown', ollama_server: 'Unknown' });\r\n    }\r\n  };\r\n\r\n  const fetchDateRangeAnalysis = async () => {\r\n    if (!startDate || !endDate) {\r\n      alert('Please select both start and end dates');\r\n      return;\r\n    }\r\n\r\n    setIsAnalyzing(true);\r\n    try {\r\n      const fullStartDate = `${startDate}T${startTime}`;\r\n      const fullEndDate = `${endDate}T${endTime}`;\r\n      \r\n      const response = await fetch('http://192.168.43.147:5000/api/date-range-analysis', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          start_date: fullStartDate,\r\n          end_date: fullEndDate,\r\n          question: analysisQuestion\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      const dateDisplay = startDate === endDate \r\n        ? `${new Date(startDate).toLocaleDateString()} (${startTime} - ${endTime})`\r\n        : `${new Date(startDate).toLocaleDateString()} ${startTime} to ${new Date(endDate).toLocaleDateString()} ${endTime}`;\r\n      \r\n      setMessages(prev => [...prev, {\r\n        type: 'analysis',\r\n        content: `ğŸ“… Analysis for ${dateDisplay}${analysisQuestion ? ` - \"${analysisQuestion}\"` : ''}`,\r\n        analysisData: data\r\n      }]);\r\n      \r\n    } catch (error) {\r\n      console.error('Date range analysis error:', error);\r\n      alert('Failed to fetch date range analysis');\r\n    } finally {\r\n      setIsAnalyzing(false);\r\n    }\r\n  };\r\n\r\n  const sendMessage = async () => {\r\n    if (!inputMessage.trim() || isLoading) return;\r\n\r\n    const userMessage = inputMessage.trim();\r\n    setInputMessage('');\r\n    \r\n    setMessages(prev => [...prev, { type: 'user', content: userMessage }]);\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const response = await fetch('http://192.168.43.147:5000/api/chat', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ message: userMessage }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      setMessages(prev => [...prev, { \r\n        type: 'ai', \r\n        content: data.response,\r\n        meterData: data.meter_data,\r\n        solarData: data.solar_data,\r\n        gridStatus: data.grid_status,\r\n        historicalData: data.historical_data\r\n      }]);\r\n    } catch (error) {\r\n      setMessages(prev => [...prev, { \r\n        type: 'error', \r\n        content: 'Error: Could not connect to the server. Make sure the backend is running on port 5000.' \r\n      }]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatTime = (timestamp) => {\r\n    if (!timestamp) return '';\r\n    const date = new Date(timestamp);\r\n    return date.toLocaleString();\r\n  };\r\n\r\n  const setQuickRange = (type) => {\r\n    const now = new Date();\r\n    const today = now.toISOString().slice(0, 10);\r\n    const currentTime = now.toTimeString().slice(0, 5);\r\n\r\n    switch (type) {\r\n      case 'today':\r\n        setStartDate(today);\r\n        setEndDate(today);\r\n        setStartTime('00:00');\r\n        setEndTime('23:59');\r\n        break;\r\n      case '1hour':\r\n        const pastTime1h = new Date(now.getTime() - 1 * 60 * 60 * 1000).toTimeString().slice(0, 5);\r\n        setStartDate(today);\r\n        setEndDate(today);\r\n        setStartTime(pastTime1h);\r\n        setEndTime(currentTime);\r\n        break;\r\n      case '6hours':\r\n        const past6h = new Date(now.getTime() - 6 * 60 * 60 * 1000);\r\n        setStartDate(past6h.toISOString().slice(0, 10));\r\n        setEndDate(today);\r\n        setStartTime(past6h.toTimeString().slice(0, 5));\r\n        setEndTime(currentTime);\r\n        break;\r\n      case '24hours':\r\n        const past24h = new Date(now.getTime() - 24 * 60 * 60 * 1000);\r\n        setStartDate(past24h.toISOString().slice(0, 10));\r\n        setEndDate(today);\r\n        setStartTime(past24h.toTimeString().slice(0, 5));\r\n        setEndTime(currentTime);\r\n        break;\r\n      case '7days':\r\n        const past7d = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n        setStartDate(past7d.toISOString().slice(0, 10));\r\n        setEndDate(today);\r\n        setStartTime('00:00');\r\n        setEndTime('23:59');\r\n        break;\r\n    }\r\n  };\r\n\r\n  const renderDataCard = (item, type, idx) => {\r\n    const isSolar = type === 'solar';\r\n    const isPeak = type === 'peak';\r\n    const isLow = type === 'low';\r\n    const isStats = type === 'stats';\r\n\r\n    return (\r\n      <View key={idx} style={[\r\n        styles.dataCard,\r\n        isSolar && styles.solarCard,\r\n        isPeak && styles.peakCard,\r\n        isLow && styles.lowCard,\r\n        isStats && styles.statsCard\r\n      ]}>\r\n        <Text style={styles.cardTitle}>\r\n          {isStats ? `Meter ${item.meter_id}` : \r\n           isPeak ? `Meter ${item.meter_id} - PEAK` :\r\n           isLow ? `Meter ${item.meter_id} - LOW` :\r\n           isSolar ? `Panel ${item.panel_id}` : `Meter ${item.meter_id}`}\r\n        </Text>\r\n        {isStats ? (\r\n          <>\r\n            <Text style={styles.cardText}>Readings: {item.total_readings}</Text>\r\n            <Text style={styles.cardText}>Avg Power: {item.avg_power}W</Text>\r\n            <Text style={styles.cardText}>Max Power: {item.max_power}W</Text>\r\n            <Text style={styles.cardText}>Min Power: {item.min_power}W</Text>\r\n            <Text style={styles.cardText}>Avg Voltage: {item.avg_voltage}V</Text>\r\n            <Text style={styles.cardText}>Avg PF: {item.avg_pf}</Text>\r\n          </>\r\n        ) : isPeak || isLow ? (\r\n          <>\r\n            <Text style={styles.cardText}>ğŸ• {formatTime(item.time)}</Text>\r\n            <Text style={styles.cardText}>âš¡ {item.power.toFixed(1)}W</Text>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Text style={styles.cardText}>âš¡ {item.voltage.toFixed(1)}V</Text>\r\n            <Text style={styles.cardText}>ğŸ”Œ {item.current.toFixed(2)}A</Text>\r\n            <Text style={styles.cardText}>ğŸ’¡ {item.power.toFixed(1)}W</Text>\r\n            {item.pf && <Text style={styles.cardText}>ğŸ“ˆ PF: {item.pf.toFixed(2)}</Text>}\r\n            <Text style={styles.cardText}>ğŸ”§ {item.state}</Text>\r\n            {item.timestamp && <Text style={styles.timestamp}>ğŸ• {formatTime(item.timestamp)}</Text>}\r\n          </>\r\n        )}\r\n      </View>\r\n    );\r\n  };\r\n\r\n  const renderMessage = (msg, index) => {\r\n    const isUser = msg.type === 'user';\r\n    const isAI = msg.type === 'ai';\r\n    const isError = msg.type === 'error';\r\n    const isAnalysis = msg.type === 'analysis';\r\n\r\n    return (\r\n      <View key={index} style={[styles.messageContainer, isUser && styles.userMessageContainer]}>\r\n        <View style={[\r\n          styles.messageBubble,\r\n          isUser && styles.userBubble,\r\n          isAI && styles.aiBubble,\r\n          isError && styles.errorBubble,\r\n          isAnalysis && styles.analysisBubble\r\n        ]}>\r\n          <View style={styles.messageHeader}>\r\n            <Text style={styles.messageIcon}>\r\n              {isUser ? 'ğŸ‘¤' : isAI ? 'ğŸ¤–' : isError ? 'âš ï¸' : 'ğŸ“Š'}\r\n            </Text>\r\n          </View>\r\n          \r\n          {msg.gridStatus?.alerts?.length > 0 && (\r\n            <View style={styles.alertsContainer}>\r\n              {msg.gridStatus.alerts.map((alert, idx) => (\r\n                <View key={idx} style={styles.alertBadge}>\r\n                  <Text style={styles.alertText}>{alert}</Text>\r\n                </View>\r\n              ))}\r\n            </View>\r\n          )}\r\n          \r\n          <Text style={[styles.messageText, isUser && styles.userMessageText]}>\r\n            {msg.content}\r\n          </Text>\r\n\r\n          {isAnalysis && msg.analysisData && (\r\n            <View style={styles.analysisResults}>\r\n              {msg.analysisData.insights?.length > 0 && (\r\n                <View style={styles.section}>\r\n                  <Text style={styles.sectionTitle}>ğŸ’¡ Insights</Text>\r\n                  {msg.analysisData.insights.map((insight, idx) => (\r\n                    <Text key={idx} style={styles.insightText}>{insight}</Text>\r\n                  ))}\r\n                </View>\r\n              )}\r\n              \r\n              {msg.analysisData.recommendations?.length > 0 && (\r\n                <View style={styles.section}>\r\n                  <Text style={styles.sectionTitle}>ğŸ”§ Recommendations</Text>\r\n                  {msg.analysisData.recommendations.map((rec, idx) => (\r\n                    <Text key={idx} style={styles.recommendationText}>{rec}</Text>\r\n                  ))}\r\n                </View>\r\n              )}\r\n              \r\n              {msg.analysisData.peak_times?.length > 0 && (\r\n                <View style={styles.section}>\r\n                  <Text style={styles.sectionTitle}>ğŸ“ˆ Peak Consumption Times</Text>\r\n                  <ScrollView horizontal showsHorizontalScrollIndicator={false}>\r\n                    {msg.analysisData.peak_times.map((peak, idx) => renderDataCard(peak, 'peak', idx))}\r\n                  </ScrollView>\r\n                </View>\r\n              )}\r\n              \r\n              {msg.analysisData.low_times?.length > 0 && (\r\n                <View style={styles.section}>\r\n                  <Text style={styles.sectionTitle}>ğŸ“‰ Low Consumption Times</Text>\r\n                  <ScrollView horizontal showsHorizontalScrollIndicator={false}>\r\n                    {msg.analysisData.low_times.map((low, idx) => renderDataCard(low, 'low', idx))}\r\n                  </ScrollView>\r\n                </View>\r\n              )}\r\n              \r\n              {msg.analysisData.meter_analysis?.statistics && (\r\n                <View style={styles.section}>\r\n                  <Text style={styles.sectionTitle}>ğŸ“Š Statistics Summary</Text>\r\n                  <ScrollView horizontal showsHorizontalScrollIndicator={false}>\r\n                    {msg.analysisData.meter_analysis.statistics.map((stat, idx) => renderDataCard(stat, 'stats', idx))}\r\n                  </ScrollView>\r\n                </View>\r\n              )}\r\n            </View>\r\n          )}\r\n\r\n          {msg.meterData?.length > 0 && (\r\n            <View style={styles.section}>\r\n              <Text style={styles.sectionTitle}>ğŸ“Š Meter Data</Text>\r\n              <ScrollView horizontal showsHorizontalScrollIndicator={false}>\r\n                {msg.meterData.map((meter, idx) => renderDataCard(meter, 'meter', idx))}\r\n              </ScrollView>\r\n            </View>\r\n          )}\r\n          \r\n          {msg.solarData?.length > 0 && (\r\n            <View style={styles.section}>\r\n              <Text style={styles.sectionTitle}>â˜€ï¸ Solar Panels</Text>\r\n              <ScrollView horizontal showsHorizontalScrollIndicator={false}>\r\n                {msg.solarData.map((panel, idx) => renderDataCard(panel, 'solar', idx))}\r\n              </ScrollView>\r\n            </View>\r\n          )}\r\n        </View>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n      <LinearGradient colors={['#0f172a', '#1e293b']} style={styles.gradient}>\r\n        {/* Header */}\r\n        <View style={styles.header}>\r\n          <Text style={styles.headerTitle}>âš¡ Microgrid AI Assistant</Text>\r\n          <View style={styles.statusBar}>\r\n            <View style={[styles.statusItem, systemStatus?.database === 'Connected' && styles.statusOnline]}>\r\n              <Text style={styles.statusText}>ğŸ—„ï¸ DB: {systemStatus?.database || 'Checking...'}</Text>\r\n            </View>\r\n            <View style={[styles.statusItem, systemStatus?.ollama_server === 'Connected' && styles.statusOnline]}>\r\n              <Text style={styles.statusText}>ğŸ¤– LLM: {systemStatus?.ollama_server || 'Checking...'}</Text>\r\n            </View>\r\n          </View>\r\n          <TouchableOpacity \r\n            style={styles.datePickerToggle}\r\n            onPress={() => setShowDatePicker(!showDatePicker)}\r\n          >\r\n            <Text style={styles.datePickerToggleText}>ğŸ“… Date Analysis</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        {/* Date Range Picker Panel */}\r\n        {showDatePicker && (\r\n          <View style={styles.datePickerPanel}>\r\n            <Text style={styles.panelTitle}>ğŸ“Š Date Range Analysis</Text>\r\n            \r\n            <TextInput\r\n              style={styles.analysisInput}\r\n              placeholder=\"What do you want to analyze? (e.g., 'voltage for meter 1')\"\r\n              placeholderTextColor=\"#94a3b8\"\r\n              value={analysisQuestion}\r\n              onChangeText={setAnalysisQuestion}\r\n            />\r\n            \r\n            <View style={styles.dateInputsRow}>\r\n              <View style={styles.dateInputGroup}>\r\n                <Text style={styles.inputLabel}>Start Date</Text>\r\n                <TextInput\r\n                  style={styles.dateInput}\r\n                  value={startDate}\r\n                  onChangeText={handleStartDateChange}\r\n                  placeholder=\"YYYY-MM-DD\"\r\n                  placeholderTextColor=\"#94a3b8\"\r\n                />\r\n                <TextInput\r\n                  style={styles.timeInput}\r\n                  value={startTime}\r\n                  onChangeText={setStartTime}\r\n                  placeholder=\"HH:MM\"\r\n                  placeholderTextColor=\"#94a3b8\"\r\n                />\r\n              </View>\r\n              <View style={styles.dateInputGroup}>\r\n                <Text style={styles.inputLabel}>End Date</Text>\r\n                <TextInput\r\n                  style={styles.dateInput}\r\n                  value={endDate}\r\n                  onChangeText={handleEndDateChange}\r\n                  placeholder=\"YYYY-MM-DD\"\r\n                  placeholderTextColor=\"#94a3b8\"\r\n                />\r\n                <TextInput\r\n                  style={styles.timeInput}\r\n                  value={endTime}\r\n                  onChangeText={setEndTime}\r\n                  placeholder=\"HH:MM\"\r\n                  placeholderTextColor=\"#94a3b8\"\r\n                />\r\n              </View>\r\n            </View>\r\n            \r\n            <TouchableOpacity \r\n              style={[styles.analyzeBtn, isAnalyzing && styles.analyzeBtnDisabled]}\r\n              onPress={fetchDateRangeAnalysis}\r\n              disabled={isAnalyzing}\r\n            >\r\n              <Text style={styles.analyzeBtnText}>\r\n                {isAnalyzing ? 'â³ Analyzing...' : 'ğŸ” Analyze Period'}\r\n              </Text>\r\n            </TouchableOpacity>\r\n            \r\n            <View style={styles.quickRanges}>\r\n              <TouchableOpacity style={styles.quickBtn} onPress={() => setQuickRange('today')}>\r\n                <Text style={styles.quickBtnText}>Today</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.quickBtn} onPress={() => setQuickRange('1hour')}>\r\n                <Text style={styles.quickBtnText}>1 Hour</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.quickBtn} onPress={() => setQuickRange('6hours')}>\r\n                <Text style={styles.quickBtnText}>6 Hours</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.quickBtn} onPress={() => setQuickRange('24hours')}>\r\n                <Text style={styles.quickBtnText}>24 Hours</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity style={styles.quickBtn} onPress={() => setQuickRange('7days')}>\r\n                <Text style={styles.quickBtnText}>7 Days</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        )}\r\n\r\n        {/* Chat Container */}\r\n        <KeyboardAvoidingView \r\n          style={styles.chatContainer}\r\n          behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\r\n          keyboardVerticalOffset={Platform.OS === 'ios' ? 90 : 0}\r\n        >\r\n          <ScrollView \r\n            ref={scrollViewRef}\r\n            style={styles.messagesContainer}\r\n            contentContainerStyle={styles.messagesContent}\r\n            onContentSizeChange={scrollToBottom}\r\n          >\r\n            {messages.length === 0 && (\r\n              <View style={styles.welcomeMessage}>\r\n                <Text style={styles.welcomeTitle}>Welcome to Microgrid AI Assistant! ğŸ‘‹</Text>\r\n                <Text style={styles.welcomeText}>I can help you analyze your microgrid data including:</Text>\r\n                <View style={styles.welcomeList}>\r\n                  <Text style={styles.welcomeItem}>ğŸ“Š Meter readings (voltage, current, power, energy)</Text>\r\n                  <Text style={styles.welcomeItem}>â˜€ï¸ Solar panel performance</Text>\r\n                  <Text style={styles.welcomeItem}>âš¡ Power quality analysis</Text>\r\n                  <Text style={styles.welcomeItem}>ğŸ’¡ Energy efficiency recommendations</Text>\r\n                  <Text style={styles.welcomeItem}>ğŸ“… Historical data analysis with date ranges</Text>\r\n                  <Text style={styles.welcomeItem}>ğŸ“ˆ Peak & low consumption detection</Text>\r\n                </View>\r\n                <Text style={styles.welcomeTip}>\r\n                  Try asking: \"What is the current power consumption?\" or use the ğŸ“… Date Analysis button above!\r\n                </Text>\r\n              </View>\r\n            )}\r\n            \r\n            {messages.map((msg, index) => renderMessage(msg, index))}\r\n            \r\n            {isLoading && (\r\n              <View style={[styles.messageContainer]}>\r\n                <View style={[styles.messageBubble, styles.aiBubble]}>\r\n                  <Text style={styles.messageIcon}>ğŸ¤–</Text>\r\n                  <View style={styles.loadingContainer}>\r\n                    <ActivityIndicator size=\"small\" color=\"#6366f1\" />\r\n                    <Text style={styles.loadingText}>Thinking...</Text>\r\n                  </View>\r\n                </View>\r\n              </View>\r\n            )}\r\n          </ScrollView>\r\n\r\n          {/* Input Container */}\r\n          <View style={styles.inputContainer}>\r\n            <TextInput\r\n              style={styles.input}\r\n              value={inputMessage}\r\n              onChangeText={setInputMessage}\r\n              placeholder=\"Ask about your microgrid data...\"\r\n              placeholderTextColor=\"#94a3b8\"\r\n              multiline\r\n              editable={!isLoading}\r\n            />\r\n            <TouchableOpacity \r\n              style={[styles.sendButton, (!inputMessage.trim() || isLoading) && styles.sendButtonDisabled]}\r\n              onPress={sendMessage}\r\n              disabled={isLoading || !inputMessage.trim()}\r\n            >\r\n              <Text style={styles.sendButtonText}>{isLoading ? 'â³' : 'ğŸ“¤'}</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </KeyboardAvoidingView>\r\n      </LinearGradient>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#0f172a',\r\n  },\r\n  gradient: {\r\n    flex: 1,\r\n  },\r\n  header: {\r\n    padding: 16,\r\n    paddingTop: Platform.OS === 'android' ? 40 : 16,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#334155',\r\n  },\r\n  headerTitle: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#ffffff',\r\n    textAlign: 'center',\r\n    marginBottom: 12,\r\n  },\r\n  statusBar: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    gap: 12,\r\n    marginBottom: 12,\r\n  },\r\n  statusItem: {\r\n    backgroundColor: '#334155',\r\n    paddingHorizontal: 12,\r\n    paddingVertical: 6,\r\n    borderRadius: 20,\r\n  },\r\n  statusOnline: {\r\n    backgroundColor: '#166534',\r\n  },\r\n  statusText: {\r\n    color: '#ffffff',\r\n    fontSize: 12,\r\n  },\r\n  datePickerToggle: {\r\n    backgroundColor: '#6366f1',\r\n    paddingHorizontal: 16,\r\n    paddingVertical: 10,\r\n    borderRadius: 8,\r\n    alignSelf: 'center',\r\n  },\r\n  datePickerToggleText: {\r\n    color: '#ffffff',\r\n    fontWeight: '600',\r\n  },\r\n  datePickerPanel: {\r\n    backgroundColor: '#1e293b',\r\n    padding: 16,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#334155',\r\n  },\r\n  panelTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#ffffff',\r\n    marginBottom: 12,\r\n  },\r\n  analysisInput: {\r\n    backgroundColor: '#334155',\r\n    borderRadius: 8,\r\n    padding: 12,\r\n    color: '#ffffff',\r\n    marginBottom: 12,\r\n  },\r\n  dateInputsRow: {\r\n    flexDirection: 'row',\r\n    gap: 12,\r\n    marginBottom: 12,\r\n  },\r\n  dateInputGroup: {\r\n    flex: 1,\r\n  },\r\n  inputLabel: {\r\n    color: '#94a3b8',\r\n    marginBottom: 4,\r\n    fontSize: 12,\r\n  },\r\n  dateInput: {\r\n    backgroundColor: '#334155',\r\n    borderRadius: 8,\r\n    padding: 10,\r\n    color: '#ffffff',\r\n    marginBottom: 8,\r\n  },\r\n  timeInput: {\r\n    backgroundColor: '#334155',\r\n    borderRadius: 8,\r\n    padding: 10,\r\n    color: '#ffffff',\r\n  },\r\n  analyzeBtn: {\r\n    backgroundColor: '#10b981',\r\n    paddingVertical: 12,\r\n    borderRadius: 8,\r\n    alignItems: 'center',\r\n    marginBottom: 12,\r\n  },\r\n  analyzeBtnDisabled: {\r\n    backgroundColor: '#6b7280',\r\n  },\r\n  analyzeBtnText: {\r\n    color: '#ffffff',\r\n    fontWeight: '600',\r\n    fontSize: 16,\r\n  },\r\n  quickRanges: {\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    gap: 8,\r\n  },\r\n  quickBtn: {\r\n    backgroundColor: '#475569',\r\n    paddingHorizontal: 12,\r\n    paddingVertical: 8,\r\n    borderRadius: 6,\r\n  },\r\n  quickBtnText: {\r\n    color: '#ffffff',\r\n    fontSize: 12,\r\n  },\r\n  chatContainer: {\r\n    flex: 1,\r\n  },\r\n  messagesContainer: {\r\n    flex: 1,\r\n  },\r\n  messagesContent: {\r\n    padding: 16,\r\n    paddingBottom: 20,\r\n  },\r\n  welcomeMessage: {\r\n    backgroundColor: '#1e293b',\r\n    borderRadius: 12,\r\n    padding: 20,\r\n    marginBottom: 16,\r\n  },\r\n  welcomeTitle: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    color: '#ffffff',\r\n    marginBottom: 12,\r\n  },\r\n  welcomeText: {\r\n    color: '#94a3b8',\r\n    marginBottom: 12,\r\n  },\r\n  welcomeList: {\r\n    marginBottom: 12,\r\n  },\r\n  welcomeItem: {\r\n    color: '#cbd5e1',\r\n    marginBottom: 6,\r\n    paddingLeft: 8,\r\n  },\r\n  welcomeTip: {\r\n    color: '#6366f1',\r\n    fontStyle: 'italic',\r\n  },\r\n  messageContainer: {\r\n    marginBottom: 12,\r\n  },\r\n  userMessageContainer: {\r\n    alignItems: 'flex-end',\r\n  },\r\n  messageBubble: {\r\n    maxWidth: '85%',\r\n    borderRadius: 16,\r\n    padding: 12,\r\n  },\r\n  userBubble: {\r\n    backgroundColor: '#6366f1',\r\n  },\r\n  aiBubble: {\r\n    backgroundColor: '#1e293b',\r\n  },\r\n  errorBubble: {\r\n    backgroundColor: '#7f1d1d',\r\n  },\r\n  analysisBubble: {\r\n    backgroundColor: '#1e293b',\r\n    maxWidth: '100%',\r\n  },\r\n  messageHeader: {\r\n    marginBottom: 4,\r\n  },\r\n  messageIcon: {\r\n    fontSize: 16,\r\n  },\r\n  messageText: {\r\n    color: '#ffffff',\r\n    fontSize: 15,\r\n    lineHeight: 22,\r\n  },\r\n  userMessageText: {\r\n    color: '#ffffff',\r\n  },\r\n  alertsContainer: {\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    gap: 6,\r\n    marginBottom: 8,\r\n  },\r\n  alertBadge: {\r\n    backgroundColor: '#dc2626',\r\n    paddingHorizontal: 8,\r\n    paddingVertical: 4,\r\n    borderRadius: 4,\r\n  },\r\n  alertText: {\r\n    color: '#ffffff',\r\n    fontSize: 12,\r\n  },\r\n  analysisResults: {\r\n    marginTop: 12,\r\n  },\r\n  section: {\r\n    marginTop: 16,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#ffffff',\r\n    marginBottom: 8,\r\n  },\r\n  insightText: {\r\n    color: '#10b981',\r\n    marginBottom: 4,\r\n    paddingLeft: 8,\r\n  },\r\n  recommendationText: {\r\n    color: '#f59e0b',\r\n    marginBottom: 4,\r\n    paddingLeft: 8,\r\n  },\r\n  dataCard: {\r\n    backgroundColor: '#334155',\r\n    borderRadius: 12,\r\n    padding: 12,\r\n    marginRight: 12,\r\n    minWidth: 140,\r\n  },\r\n  solarCard: {\r\n    backgroundColor: '#854d0e',\r\n  },\r\n  peakCard: {\r\n    backgroundColor: '#7f1d1d',\r\n  },\r\n  lowCard: {\r\n    backgroundColor: '#14532d',\r\n  },\r\n  statsCard: {\r\n    backgroundColor: '#3730a3',\r\n  },\r\n  cardTitle: {\r\n    color: '#ffffff',\r\n    fontWeight: 'bold',\r\n    marginBottom: 8,\r\n  },\r\n  cardText: {\r\n    color: '#cbd5e1',\r\n    fontSize: 13,\r\n    marginBottom: 2,\r\n  },\r\n  timestamp: {\r\n    color: '#94a3b8',\r\n    fontSize: 11,\r\n    marginTop: 4,\r\n  },\r\n  loadingContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 8,\r\n  },\r\n  loadingText: {\r\n    color: '#94a3b8',\r\n  },\r\n  inputContainer: {\r\n    flexDirection: 'row',\r\n    padding: 16,\r\n    backgroundColor: '#1e293b',\r\n    borderTopWidth: 1,\r\n    borderTopColor: '#334155',\r\n    alignItems: 'flex-end',\r\n  },\r\n  input: {\r\n    flex: 1,\r\n    backgroundColor: '#334155',\r\n    borderRadius: 20,\r\n    paddingHorizontal: 16,\r\n    paddingVertical: 12,\r\n    color: '#ffffff',\r\n    maxHeight: 100,\r\n    marginRight: 12,\r\n  },\r\n  sendButton: {\r\n    backgroundColor: '#6366f1',\r\n    width: 48,\r\n    height: 48,\r\n    borderRadius: 24,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  sendButtonDisabled: {\r\n    backgroundColor: '#475569',\r\n  },\r\n  sendButtonText: {\r\n    fontSize: 20,\r\n  },\r\n});\r\n\r\nexport default AIChatScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}