{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport { Ionicons } from '@expo/vector-icons';\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nvar _Dimensions$get = Dimensions.get('window'),\n  width = _Dimensions$get.width,\n  height = _Dimensions$get.height;\nvar API_BASE_URL = 'http://192.168.43.147:5000';\nvar AIChatScreen = function AIChatScreen() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    messages = _useState2[0],\n    setMessages = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    inputMessage = _useState4[0],\n    setInputMessage = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isLoading = _useState6[0],\n    setIsLoading = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    systemStatus = _useState8[0],\n    setSystemStatus = _useState8[1];\n  var _useState9 = useState(false),\n    _useState0 = _slicedToArray(_useState9, 2),\n    showDatePicker = _useState0[0],\n    setShowDatePicker = _useState0[1];\n  var _useState1 = useState(''),\n    _useState10 = _slicedToArray(_useState1, 2),\n    startDate = _useState10[0],\n    setStartDate = _useState10[1];\n  var _useState11 = useState(''),\n    _useState12 = _slicedToArray(_useState11, 2),\n    endDate = _useState12[0],\n    setEndDate = _useState12[1];\n  var _useState13 = useState('00:00'),\n    _useState14 = _slicedToArray(_useState13, 2),\n    startTime = _useState14[0],\n    setStartTime = _useState14[1];\n  var _useState15 = useState('23:59'),\n    _useState16 = _slicedToArray(_useState15, 2),\n    endTime = _useState16[0],\n    setEndTime = _useState16[1];\n  var _useState17 = useState(false),\n    _useState18 = _slicedToArray(_useState17, 2),\n    isAnalyzing = _useState18[0],\n    setIsAnalyzing = _useState18[1];\n  var _useState19 = useState(''),\n    _useState20 = _slicedToArray(_useState19, 2),\n    analysisQuestion = _useState20[0],\n    setAnalysisQuestion = _useState20[1];\n  var _useState21 = useState(false),\n    _useState22 = _slicedToArray(_useState21, 2),\n    showMenu = _useState22[0],\n    setShowMenu = _useState22[1];\n  var scrollViewRef = useRef(null);\n  var scrollToBottom = function scrollToBottom() {\n    var _scrollViewRef$curren;\n    (_scrollViewRef$curren = scrollViewRef.current) == null ? void 0 : _scrollViewRef$curren.scrollToEnd({\n      animated: true\n    });\n  };\n  useEffect(function () {\n    scrollToBottom();\n  }, [messages]);\n  useEffect(function () {\n    checkHealth();\n    var now = new Date();\n    var today = now.toISOString().slice(0, 10);\n    setStartDate(today);\n    setEndDate(today);\n    setStartTime('00:00');\n    setEndTime('23:59');\n  }, []);\n  var handleStartDateChange = function handleStartDateChange(newDate) {\n    setStartDate(newDate);\n    if (newDate === endDate) {\n      setStartTime('00:00');\n      setEndTime('23:59');\n    }\n  };\n  var handleEndDateChange = function handleEndDateChange(newDate) {\n    setEndDate(newDate);\n    if (newDate === startDate) {\n      setStartTime('00:00');\n      setEndTime('23:59');\n    }\n  };\n  var checkHealth = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var response = yield fetch('http://192.168.43.147:5000/api/health');\n        var data = yield response.json();\n        setSystemStatus(data);\n      } catch (error) {\n        setSystemStatus({\n          status: 'Backend Offline',\n          database: 'Unknown',\n          ollama_server: 'Unknown'\n        });\n      }\n    });\n    return function checkHealth() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var fetchDateRangeAnalysis = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (!startDate || !endDate) {\n        alert('Please select both start and end dates');\n        return;\n      }\n      setIsAnalyzing(true);\n      try {\n        var fullStartDate = `${startDate}T${startTime}`;\n        var fullEndDate = `${endDate}T${endTime}`;\n        var response = yield fetch('http://192.168.43.147:5000/api/date-range-analysis', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            start_date: fullStartDate,\n            end_date: fullEndDate,\n            question: analysisQuestion\n          })\n        });\n        var data = yield response.json();\n        var dateDisplay = startDate === endDate ? `${new Date(startDate).toLocaleDateString()} (${startTime} - ${endTime})` : `${new Date(startDate).toLocaleDateString()} ${startTime} to ${new Date(endDate).toLocaleDateString()} ${endTime}`;\n        setMessages(function (prev) {\n          return [].concat(_toConsumableArray(prev), [{\n            type: 'analysis',\n            content: `ðŸ“… Analysis for ${dateDisplay}${analysisQuestion ? ` - \"${analysisQuestion}\"` : ''}`,\n            analysisData: data\n          }]);\n        });\n      } catch (error) {\n        console.error('Date range analysis error:', error);\n        alert('Failed to fetch date range analysis');\n      } finally {\n        setIsAnalyzing(false);\n      }\n    });\n    return function fetchDateRangeAnalysis() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var sendMessage = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      if (!inputMessage.trim() || isLoading) return;\n      var userMessage = inputMessage.trim();\n      setInputMessage('');\n      setMessages(function (prev) {\n        return [].concat(_toConsumableArray(prev), [{\n          type: 'user',\n          content: userMessage\n        }]);\n      });\n      setIsLoading(true);\n      try {\n        var response = yield fetch('http://192.168.43.147:5000/api/chat', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            message: userMessage\n          })\n        });\n        var data = yield response.json();\n        setMessages(function (prev) {\n          return [].concat(_toConsumableArray(prev), [{\n            type: 'ai',\n            content: data.response,\n            meterData: data.meter_data,\n            solarData: data.solar_data,\n            gridStatus: data.grid_status,\n            historicalData: data.historical_data\n          }]);\n        });\n      } catch (error) {\n        setMessages(function (prev) {\n          return [].concat(_toConsumableArray(prev), [{\n            type: 'error',\n            content: 'Error: Could not connect to the server. Make sure the backend is running on port 5000.'\n          }]);\n        });\n      } finally {\n        setIsLoading(false);\n      }\n    });\n    return function sendMessage() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var formatTime = function formatTime(timestamp) {\n    if (!timestamp) return '';\n    var date = new Date(timestamp);\n    return date.toLocaleString();\n  };\n  var setQuickRange = function setQuickRange(type) {\n    var now = new Date();\n    var today = now.toISOString().slice(0, 10);\n    var currentTime = now.toTimeString().slice(0, 5);\n    switch (type) {\n      case 'today':\n        setStartDate(today);\n        setEndDate(today);\n        setStartTime('00:00');\n        setEndTime('23:59');\n        break;\n      case '1hour':\n        var pastTime1h = new Date(now.getTime() - 1 * 60 * 60 * 1000).toTimeString().slice(0, 5);\n        setStartDate(today);\n        setEndDate(today);\n        setStartTime(pastTime1h);\n        setEndTime(currentTime);\n        break;\n      case '6hours':\n        var past6h = new Date(now.getTime() - 6 * 60 * 60 * 1000);\n        setStartDate(past6h.toISOString().slice(0, 10));\n        setEndDate(today);\n        setStartTime(past6h.toTimeString().slice(0, 5));\n        setEndTime(currentTime);\n        break;\n      case '24hours':\n        var past24h = new Date(now.getTime() - 24 * 60 * 60 * 1000);\n        setStartDate(past24h.toISOString().slice(0, 10));\n        setEndDate(today);\n        setStartTime(past24h.toTimeString().slice(0, 5));\n        setEndTime(currentTime);\n        break;\n      case '7days':\n        var past7d = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\n        setStartDate(past7d.toISOString().slice(0, 10));\n        setEndDate(today);\n        setStartTime('00:00');\n        setEndTime('23:59');\n        break;\n    }\n  };\n  var renderDataCard = function renderDataCard(item, type, idx) {\n    var isSolar = type === 'solar';\n    var isPeak = type === 'peak';\n    var isLow = type === 'low';\n    var isStats = type === 'stats';\n    return _jsxs(View, {\n      style: [styles.dataCard, isSolar && styles.solarCard, isPeak && styles.peakCard, isLow && styles.lowCard, isStats && styles.statsCard],\n      children: [_jsx(Text, {\n        style: styles.cardTitle,\n        children: isStats ? `Meter ${item.meter_id}` : isPeak ? `Meter ${item.meter_id} - PEAK` : isLow ? `Meter ${item.meter_id} - LOW` : isSolar ? `Panel ${item.panel_id}` : `Meter ${item.meter_id}`\n      }), isStats ? _jsxs(_Fragment, {\n        children: [_jsxs(Text, {\n          style: styles.cardText,\n          children: [\"Readings: \", item.total_readings]\n        }), _jsxs(Text, {\n          style: styles.cardText,\n          children: [\"Avg Power: \", item.avg_power, \"W\"]\n        }), _jsxs(Text, {\n          style: styles.cardText,\n          children: [\"Max Power: \", item.max_power, \"W\"]\n        }), _jsxs(Text, {\n          style: styles.cardText,\n          children: [\"Min Power: \", item.min_power, \"W\"]\n        }), _jsxs(Text, {\n          style: styles.cardText,\n          children: [\"Avg Voltage: \", item.avg_voltage, \"V\"]\n        }), _jsxs(Text, {\n          style: styles.cardText,\n          children: [\"Avg PF: \", item.avg_pf]\n        })]\n      }) : isPeak || isLow ? _jsxs(_Fragment, {\n        children: [_jsxs(Text, {\n          style: styles.cardText,\n          children: [\"\\uD83D\\uDD50 \", formatTime(item.time)]\n        }), _jsxs(Text, {\n          style: styles.cardText,\n          children: [\"\\u26A1 \", item.power.toFixed(1), \"W\"]\n        })]\n      }) : _jsxs(_Fragment, {\n        children: [_jsxs(Text, {\n          style: styles.cardText,\n          children: [\"\\u26A1 \", item.voltage.toFixed(1), \"V\"]\n        }), _jsxs(Text, {\n          style: styles.cardText,\n          children: [\"\\uD83D\\uDD0C \", item.current.toFixed(2), \"A\"]\n        }), _jsxs(Text, {\n          style: styles.cardText,\n          children: [\"\\uD83D\\uDCA1 \", item.power.toFixed(1), \"W\"]\n        }), item.pf && _jsxs(Text, {\n          style: styles.cardText,\n          children: [\"\\uD83D\\uDCC8 PF: \", item.pf.toFixed(2)]\n        }), _jsxs(Text, {\n          style: styles.cardText,\n          children: [\"\\uD83D\\uDD27 \", item.state]\n        }), item.timestamp && _jsxs(Text, {\n          style: styles.timestamp,\n          children: [\"\\uD83D\\uDD50 \", formatTime(item.timestamp)]\n        })]\n      })]\n    }, idx);\n  };\n  var renderMessage = function renderMessage(msg, index) {\n    var _msg$gridStatus, _msg$gridStatus$alert, _msg$analysisData$ins, _msg$analysisData$rec, _msg$analysisData$pea, _msg$analysisData$low, _msg$analysisData$met, _msg$meterData, _msg$solarData;\n    var isUser = msg.type === 'user';\n    var isAI = msg.type === 'ai';\n    var isError = msg.type === 'error';\n    var isAnalysis = msg.type === 'analysis';\n    return _jsxs(View, {\n      style: [styles.messageRow, isUser && styles.userMessageRow],\n      children: [!isUser && _jsx(View, {\n        style: [styles.avatar, isError && styles.errorAvatar],\n        children: _jsx(Ionicons, {\n          name: isError ? \"warning\" : \"flash\",\n          size: 20,\n          color: \"#fff\"\n        })\n      }), _jsxs(View, {\n        style: [styles.messageContent, isUser && styles.userMessageContent],\n        children: [_jsx(Text, {\n          style: [styles.senderLabel, isUser && styles.userSenderLabel],\n          children: isUser ? 'You' : isError ? 'Error' : 'Microgrid AI'\n        }), _jsx(Text, {\n          style: [styles.messageText, isUser && styles.userMessageText],\n          children: msg.content\n        }), ((_msg$gridStatus = msg.gridStatus) == null ? void 0 : (_msg$gridStatus$alert = _msg$gridStatus.alerts) == null ? void 0 : _msg$gridStatus$alert.length) > 0 && _jsx(View, {\n          style: styles.alertsContainer,\n          children: msg.gridStatus.alerts.map(function (alert, idx) {\n            return _jsxs(View, {\n              style: styles.alertBadge,\n              children: [_jsx(Ionicons, {\n                name: \"alert-circle\",\n                size: 14,\n                color: \"#fff\"\n              }), _jsx(Text, {\n                style: styles.alertText,\n                children: alert\n              })]\n            }, idx);\n          })\n        }), isAnalysis && msg.analysisData && _jsxs(View, {\n          style: styles.analysisResults,\n          children: [((_msg$analysisData$ins = msg.analysisData.insights) == null ? void 0 : _msg$analysisData$ins.length) > 0 && _jsxs(View, {\n            style: styles.section,\n            children: [_jsxs(View, {\n              style: styles.sectionHeader,\n              children: [_jsx(Ionicons, {\n                name: \"bulb\",\n                size: 18,\n                color: \"#10b981\"\n              }), _jsx(Text, {\n                style: styles.sectionTitle,\n                children: \"Insights\"\n              })]\n            }), msg.analysisData.insights.map(function (insight, idx) {\n              return _jsx(Text, {\n                style: styles.insightText,\n                children: insight\n              }, idx);\n            })]\n          }), ((_msg$analysisData$rec = msg.analysisData.recommendations) == null ? void 0 : _msg$analysisData$rec.length) > 0 && _jsxs(View, {\n            style: styles.section,\n            children: [_jsxs(View, {\n              style: styles.sectionHeader,\n              children: [_jsx(Ionicons, {\n                name: \"construct\",\n                size: 18,\n                color: \"#f59e0b\"\n              }), _jsx(Text, {\n                style: styles.sectionTitle,\n                children: \"Recommendations\"\n              })]\n            }), msg.analysisData.recommendations.map(function (rec, idx) {\n              return _jsx(Text, {\n                style: styles.recommendationText,\n                children: rec\n              }, idx);\n            })]\n          }), ((_msg$analysisData$pea = msg.analysisData.peak_times) == null ? void 0 : _msg$analysisData$pea.length) > 0 && _jsxs(View, {\n            style: styles.section,\n            children: [_jsxs(View, {\n              style: styles.sectionHeader,\n              children: [_jsx(Ionicons, {\n                name: \"trending-up\",\n                size: 18,\n                color: \"#ef4444\"\n              }), _jsx(Text, {\n                style: styles.sectionTitle,\n                children: \"Peak Consumption\"\n              })]\n            }), _jsx(ScrollView, {\n              horizontal: true,\n              showsHorizontalScrollIndicator: false,\n              children: msg.analysisData.peak_times.map(function (peak, idx) {\n                return renderDataCard(peak, 'peak', idx);\n              })\n            })]\n          }), ((_msg$analysisData$low = msg.analysisData.low_times) == null ? void 0 : _msg$analysisData$low.length) > 0 && _jsxs(View, {\n            style: styles.section,\n            children: [_jsxs(View, {\n              style: styles.sectionHeader,\n              children: [_jsx(Ionicons, {\n                name: \"trending-down\",\n                size: 18,\n                color: \"#22c55e\"\n              }), _jsx(Text, {\n                style: styles.sectionTitle,\n                children: \"Low Consumption\"\n              })]\n            }), _jsx(ScrollView, {\n              horizontal: true,\n              showsHorizontalScrollIndicator: false,\n              children: msg.analysisData.low_times.map(function (low, idx) {\n                return renderDataCard(low, 'low', idx);\n              })\n            })]\n          }), ((_msg$analysisData$met = msg.analysisData.meter_analysis) == null ? void 0 : _msg$analysisData$met.statistics) && _jsxs(View, {\n            style: styles.section,\n            children: [_jsxs(View, {\n              style: styles.sectionHeader,\n              children: [_jsx(Ionicons, {\n                name: \"stats-chart\",\n                size: 18,\n                color: \"#6366f1\"\n              }), _jsx(Text, {\n                style: styles.sectionTitle,\n                children: \"Statistics\"\n              })]\n            }), _jsx(ScrollView, {\n              horizontal: true,\n              showsHorizontalScrollIndicator: false,\n              children: msg.analysisData.meter_analysis.statistics.map(function (stat, idx) {\n                return renderDataCard(stat, 'stats', idx);\n              })\n            })]\n          })]\n        }), ((_msg$meterData = msg.meterData) == null ? void 0 : _msg$meterData.length) > 0 && _jsxs(View, {\n          style: styles.section,\n          children: [_jsxs(View, {\n            style: styles.sectionHeader,\n            children: [_jsx(Ionicons, {\n              name: \"speedometer\",\n              size: 18,\n              color: \"#6366f1\"\n            }), _jsx(Text, {\n              style: styles.sectionTitle,\n              children: \"Meter Data\"\n            })]\n          }), _jsx(ScrollView, {\n            horizontal: true,\n            showsHorizontalScrollIndicator: false,\n            children: msg.meterData.map(function (meter, idx) {\n              return renderDataCard(meter, 'meter', idx);\n            })\n          })]\n        }), ((_msg$solarData = msg.solarData) == null ? void 0 : _msg$solarData.length) > 0 && _jsxs(View, {\n          style: styles.section,\n          children: [_jsxs(View, {\n            style: styles.sectionHeader,\n            children: [_jsx(Ionicons, {\n              name: \"sunny\",\n              size: 18,\n              color: \"#f59e0b\"\n            }), _jsx(Text, {\n              style: styles.sectionTitle,\n              children: \"Solar Panels\"\n            })]\n          }), _jsx(ScrollView, {\n            horizontal: true,\n            showsHorizontalScrollIndicator: false,\n            children: msg.solarData.map(function (panel, idx) {\n              return renderDataCard(panel, 'solar', idx);\n            })\n          })]\n        }), _jsx(Text, {\n          style: styles.messageTime,\n          children: new Date().toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n          })\n        })]\n      }), isUser && _jsx(View, {\n        style: styles.userAvatar,\n        children: _jsx(Ionicons, {\n          name: \"person\",\n          size: 20,\n          color: \"#fff\"\n        })\n      })]\n    }, index);\n  };\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsx(TouchableOpacity, {\n        style: styles.menuButton,\n        onPress: function onPress() {\n          return setShowMenu(true);\n        },\n        children: _jsx(Ionicons, {\n          name: \"menu\",\n          size: 24,\n          color: \"#fff\"\n        })\n      }), _jsx(View, {\n        style: styles.headerCenter,\n        children: _jsxs(View, {\n          style: styles.modelSelector,\n          children: [_jsx(Ionicons, {\n            name: \"flash\",\n            size: 18,\n            color: \"#10b981\"\n          }), _jsx(Text, {\n            style: styles.modelText,\n            children: \"Microgrid AI\"\n          }), _jsx(Ionicons, {\n            name: \"chevron-down\",\n            size: 16,\n            color: \"#9ca3af\"\n          })]\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.newChatButton,\n        onPress: function onPress() {\n          return setMessages([]);\n        },\n        children: _jsx(Ionicons, {\n          name: \"create-outline\",\n          size: 24,\n          color: \"#fff\"\n        })\n      })]\n    }), _jsxs(View, {\n      style: styles.statusBar,\n      children: [_jsx(View, {\n        style: [styles.statusDot, (systemStatus == null ? void 0 : systemStatus.database) === 'Connected' && styles.statusOnline]\n      }), _jsx(Text, {\n        style: styles.statusText,\n        children: (systemStatus == null ? void 0 : systemStatus.database) === 'Connected' ? 'Connected' : 'Connecting...'\n      }), _jsxs(TouchableOpacity, {\n        style: styles.dateAnalysisBtn,\n        onPress: function onPress() {\n          return setShowDatePicker(!showDatePicker);\n        },\n        children: [_jsx(Ionicons, {\n          name: \"calendar\",\n          size: 16,\n          color: \"#6366f1\"\n        }), _jsx(Text, {\n          style: styles.dateAnalysisBtnText,\n          children: \"Date Analysis\"\n        })]\n      })]\n    }), _jsx(Modal, {\n      visible: showDatePicker,\n      transparent: true,\n      animationType: \"slide\",\n      onRequestClose: function onRequestClose() {\n        return setShowDatePicker(false);\n      },\n      children: _jsx(View, {\n        style: styles.modalOverlay,\n        children: _jsxs(View, {\n          style: styles.datePickerModal,\n          children: [_jsxs(View, {\n            style: styles.modalHeader,\n            children: [_jsx(Text, {\n              style: styles.modalTitle,\n              children: \"Date Range Analysis\"\n            }), _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                return setShowDatePicker(false);\n              },\n              children: _jsx(Ionicons, {\n                name: \"close\",\n                size: 24,\n                color: \"#9ca3af\"\n              })\n            })]\n          }), _jsx(TextInput, {\n            style: styles.analysisInput,\n            placeholder: \"What do you want to analyze?\",\n            placeholderTextColor: \"#6b7280\",\n            value: analysisQuestion,\n            onChangeText: setAnalysisQuestion\n          }), _jsxs(View, {\n            style: styles.dateInputsRow,\n            children: [_jsxs(View, {\n              style: styles.dateInputGroup,\n              children: [_jsx(Text, {\n                style: styles.inputLabel,\n                children: \"Start Date\"\n              }), _jsx(TextInput, {\n                style: styles.dateInput,\n                value: startDate,\n                onChangeText: handleStartDateChange,\n                placeholder: \"YYYY-MM-DD\",\n                placeholderTextColor: \"#6b7280\"\n              }), _jsx(TextInput, {\n                style: styles.timeInput,\n                value: startTime,\n                onChangeText: setStartTime,\n                placeholder: \"HH:MM\",\n                placeholderTextColor: \"#6b7280\"\n              })]\n            }), _jsxs(View, {\n              style: styles.dateInputGroup,\n              children: [_jsx(Text, {\n                style: styles.inputLabel,\n                children: \"End Date\"\n              }), _jsx(TextInput, {\n                style: styles.dateInput,\n                value: endDate,\n                onChangeText: handleEndDateChange,\n                placeholder: \"YYYY-MM-DD\",\n                placeholderTextColor: \"#6b7280\"\n              }), _jsx(TextInput, {\n                style: styles.timeInput,\n                value: endTime,\n                onChangeText: setEndTime,\n                placeholder: \"HH:MM\",\n                placeholderTextColor: \"#6b7280\"\n              })]\n            })]\n          }), _jsx(View, {\n            style: styles.quickRanges,\n            children: ['Today', '1 Hour', '6 Hours', '24 Hours', '7 Days'].map(function (label, idx) {\n              return _jsx(TouchableOpacity, {\n                style: styles.quickBtn,\n                onPress: function onPress() {\n                  return setQuickRange(['today', '1hour', '6hours', '24hours', '7days'][idx]);\n                },\n                children: _jsx(Text, {\n                  style: styles.quickBtnText,\n                  children: label\n                })\n              }, idx);\n            })\n          }), _jsx(TouchableOpacity, {\n            style: [styles.analyzeBtn, isAnalyzing && styles.analyzeBtnDisabled],\n            onPress: function onPress() {\n              fetchDateRangeAnalysis();\n              setShowDatePicker(false);\n            },\n            disabled: isAnalyzing,\n            children: isAnalyzing ? _jsx(ActivityIndicator, {\n              size: \"small\",\n              color: \"#fff\"\n            }) : _jsxs(_Fragment, {\n              children: [_jsx(Ionicons, {\n                name: \"search\",\n                size: 18,\n                color: \"#fff\"\n              }), _jsx(Text, {\n                style: styles.analyzeBtnText,\n                children: \"Analyze Period\"\n              })]\n            })\n          })]\n        })\n      })\n    }), _jsxs(KeyboardAvoidingView, {\n      style: styles.chatContainer,\n      behavior: Platform.OS === 'ios' ? 'padding' : 'height',\n      keyboardVerticalOffset: Platform.OS === 'ios' ? 90 : 0,\n      children: [_jsxs(ScrollView, {\n        ref: scrollViewRef,\n        style: styles.messagesContainer,\n        contentContainerStyle: styles.messagesContent,\n        onContentSizeChange: scrollToBottom,\n        showsVerticalScrollIndicator: false,\n        children: [messages.length === 0 && _jsxs(View, {\n          style: styles.welcomeContainer,\n          children: [_jsx(View, {\n            style: styles.welcomeIconContainer,\n            children: _jsx(Ionicons, {\n              name: \"flash\",\n              size: 48,\n              color: \"#10b981\"\n            })\n          }), _jsx(Text, {\n            style: styles.welcomeTitle,\n            children: \"Microgrid AI Assistant\"\n          }), _jsx(Text, {\n            style: styles.welcomeSubtitle,\n            children: \"Your intelligent energy management companion\"\n          }), _jsx(View, {\n            style: styles.suggestionGrid,\n            children: [{\n              icon: 'speedometer',\n              text: 'Current power status',\n              color: '#6366f1'\n            }, {\n              icon: 'sunny',\n              text: 'Solar panel output',\n              color: '#f59e0b'\n            }, {\n              icon: 'trending-up',\n              text: 'Peak consumption times',\n              color: '#ef4444'\n            }, {\n              icon: 'analytics',\n              text: 'Energy efficiency tips',\n              color: '#10b981'\n            }].map(function (item, idx) {\n              return _jsxs(TouchableOpacity, {\n                style: styles.suggestionCard,\n                onPress: function onPress() {\n                  setInputMessage(item.text === 'Current power status' ? 'What is the current power consumption?' : item.text === 'Solar panel output' ? 'Show me the solar panel performance' : item.text === 'Peak consumption times' ? 'When are the peak consumption times?' : 'Give me energy efficiency recommendations');\n                },\n                children: [_jsx(Ionicons, {\n                  name: item.icon,\n                  size: 24,\n                  color: item.color\n                }), _jsx(Text, {\n                  style: styles.suggestionText,\n                  children: item.text\n                }), _jsx(Ionicons, {\n                  name: \"arrow-forward\",\n                  size: 16,\n                  color: \"#6b7280\"\n                })]\n              }, idx);\n            })\n          })]\n        }), messages.map(function (msg, index) {\n          return renderMessage(msg, index);\n        }), isLoading && _jsxs(View, {\n          style: styles.messageRow,\n          children: [_jsx(View, {\n            style: styles.avatar,\n            children: _jsx(Ionicons, {\n              name: \"flash\",\n              size: 20,\n              color: \"#fff\"\n            })\n          }), _jsxs(View, {\n            style: styles.messageContent,\n            children: [_jsx(Text, {\n              style: styles.senderLabel,\n              children: \"Microgrid AI\"\n            }), _jsxs(View, {\n              style: styles.typingIndicator,\n              children: [_jsx(View, {\n                style: [styles.typingDot, styles.typingDot1]\n              }), _jsx(View, {\n                style: [styles.typingDot, styles.typingDot2]\n              }), _jsx(View, {\n                style: [styles.typingDot, styles.typingDot3]\n              })]\n            })]\n          })]\n        })]\n      }), _jsxs(View, {\n        style: styles.inputWrapper,\n        children: [_jsxs(View, {\n          style: styles.inputContainer,\n          children: [_jsx(TouchableOpacity, {\n            style: styles.attachButton,\n            children: _jsx(Ionicons, {\n              name: \"add-circle-outline\",\n              size: 24,\n              color: \"#9ca3af\"\n            })\n          }), _jsx(TextInput, {\n            style: styles.input,\n            value: inputMessage,\n            onChangeText: setInputMessage,\n            placeholder: \"Message Microgrid AI...\",\n            placeholderTextColor: \"#6b7280\",\n            multiline: true,\n            maxLength: 2000,\n            editable: !isLoading\n          }), _jsx(TouchableOpacity, {\n            style: [styles.sendButton, (!inputMessage.trim() || isLoading) && styles.sendButtonDisabled],\n            onPress: sendMessage,\n            disabled: isLoading || !inputMessage.trim(),\n            children: _jsx(Ionicons, {\n              name: \"arrow-up\",\n              size: 20,\n              color: inputMessage.trim() && !isLoading ? '#fff' : '#6b7280'\n            })\n          })]\n        }), _jsx(Text, {\n          style: styles.disclaimer,\n          children: \"AI can make mistakes. Verify important energy data.\"\n        })]\n      })]\n    }), _jsx(Modal, {\n      visible: showMenu,\n      transparent: true,\n      animationType: \"fade\",\n      onRequestClose: function onRequestClose() {\n        return setShowMenu(false);\n      },\n      children: _jsx(TouchableOpacity, {\n        style: styles.menuOverlay,\n        activeOpacity: 1,\n        onPress: function onPress() {\n          return setShowMenu(false);\n        },\n        children: _jsxs(View, {\n          style: styles.sideMenu,\n          children: [_jsxs(View, {\n            style: styles.menuHeader,\n            children: [_jsx(Ionicons, {\n              name: \"flash\",\n              size: 32,\n              color: \"#10b981\"\n            }), _jsx(Text, {\n              style: styles.menuTitle,\n              children: \"Microgrid AI\"\n            })]\n          }), _jsxs(TouchableOpacity, {\n            style: styles.menuItem,\n            onPress: function onPress() {\n              setMessages([]);\n              setShowMenu(false);\n            },\n            children: [_jsx(Ionicons, {\n              name: \"add-circle-outline\",\n              size: 22,\n              color: \"#fff\"\n            }), _jsx(Text, {\n              style: styles.menuItemText,\n              children: \"New Chat\"\n            })]\n          }), _jsxs(TouchableOpacity, {\n            style: styles.menuItem,\n            onPress: function onPress() {\n              setShowMenu(false);\n              setShowDatePicker(true);\n            },\n            children: [_jsx(Ionicons, {\n              name: \"calendar-outline\",\n              size: 22,\n              color: \"#fff\"\n            }), _jsx(Text, {\n              style: styles.menuItemText,\n              children: \"Date Analysis\"\n            })]\n          }), _jsx(View, {\n            style: styles.menuDivider\n          }), _jsxs(View, {\n            style: styles.menuSection,\n            children: [_jsx(Text, {\n              style: styles.menuSectionTitle,\n              children: \"System Status\"\n            }), _jsxs(View, {\n              style: styles.statusRow,\n              children: [_jsx(View, {\n                style: [styles.statusIndicator, (systemStatus == null ? void 0 : systemStatus.database) === 'Connected' && styles.statusGreen]\n              }), _jsxs(Text, {\n                style: styles.statusLabel,\n                children: [\"Database: \", (systemStatus == null ? void 0 : systemStatus.database) || 'Checking...']\n              })]\n            }), _jsxs(View, {\n              style: styles.statusRow,\n              children: [_jsx(View, {\n                style: [styles.statusIndicator, (systemStatus == null ? void 0 : systemStatus.ollama_server) === 'Connected' && styles.statusGreen]\n              }), _jsxs(Text, {\n                style: styles.statusLabel,\n                children: [\"LLM: \", (systemStatus == null ? void 0 : systemStatus.ollama_server) || 'Checking...']\n              })]\n            })]\n          })]\n        })\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#212121'\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    paddingTop: Platform.OS === 'android' ? 44 : 12,\n    backgroundColor: '#212121',\n    borderBottomWidth: 1,\n    borderBottomColor: '#2f2f2f'\n  },\n  menuButton: {\n    padding: 8\n  },\n  headerCenter: {\n    flex: 1,\n    alignItems: 'center'\n  },\n  modelSelector: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 6,\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 8,\n    backgroundColor: '#2f2f2f'\n  },\n  modelText: {\n    color: '#fff',\n    fontSize: 16,\n    fontWeight: '600'\n  },\n  newChatButton: {\n    padding: 8\n  },\n  statusBar: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 8,\n    paddingHorizontal: 16,\n    backgroundColor: '#212121',\n    gap: 8\n  },\n  statusDot: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    backgroundColor: '#6b7280'\n  },\n  statusOnline: {\n    backgroundColor: '#10b981'\n  },\n  statusText: {\n    color: '#9ca3af',\n    fontSize: 12\n  },\n  dateAnalysisBtn: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 4,\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 16,\n    backgroundColor: '#2f2f2f',\n    marginLeft: 'auto'\n  },\n  dateAnalysisBtnText: {\n    color: '#6366f1',\n    fontSize: 12,\n    fontWeight: '500'\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0,0,0,0.7)',\n    justifyContent: 'flex-end'\n  },\n  datePickerModal: {\n    backgroundColor: '#2f2f2f',\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    padding: 20,\n    maxHeight: height * 0.7\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20\n  },\n  modalTitle: {\n    color: '#fff',\n    fontSize: 20,\n    fontWeight: '600'\n  },\n  analysisInput: {\n    backgroundColor: '#424242',\n    borderRadius: 12,\n    padding: 14,\n    color: '#fff',\n    fontSize: 15,\n    marginBottom: 16,\n    borderWidth: 1,\n    borderColor: '#525252'\n  },\n  dateInputsRow: {\n    flexDirection: 'row',\n    gap: 12,\n    marginBottom: 16\n  },\n  dateInputGroup: {\n    flex: 1\n  },\n  inputLabel: {\n    color: '#9ca3af',\n    marginBottom: 6,\n    fontSize: 13,\n    fontWeight: '500'\n  },\n  dateInput: {\n    backgroundColor: '#424242',\n    borderRadius: 10,\n    padding: 12,\n    color: '#fff',\n    marginBottom: 8,\n    borderWidth: 1,\n    borderColor: '#525252'\n  },\n  timeInput: {\n    backgroundColor: '#424242',\n    borderRadius: 10,\n    padding: 12,\n    color: '#fff',\n    borderWidth: 1,\n    borderColor: '#525252'\n  },\n  quickRanges: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 8,\n    marginBottom: 16\n  },\n  quickBtn: {\n    backgroundColor: '#424242',\n    paddingHorizontal: 14,\n    paddingVertical: 8,\n    borderRadius: 20,\n    borderWidth: 1,\n    borderColor: '#525252'\n  },\n  quickBtnText: {\n    color: '#fff',\n    fontSize: 13\n  },\n  analyzeBtn: {\n    backgroundColor: '#10b981',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: 8,\n    paddingVertical: 14,\n    borderRadius: 12\n  },\n  analyzeBtnDisabled: {\n    backgroundColor: '#4b5563'\n  },\n  analyzeBtnText: {\n    color: '#fff',\n    fontWeight: '600',\n    fontSize: 16\n  },\n  chatContainer: {\n    flex: 1,\n    backgroundColor: '#212121'\n  },\n  messagesContainer: {\n    flex: 1\n  },\n  messagesContent: {\n    paddingHorizontal: 16,\n    paddingBottom: 20\n  },\n  welcomeContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingTop: 40,\n    paddingHorizontal: 20\n  },\n  welcomeIconContainer: {\n    width: 80,\n    height: 80,\n    borderRadius: 40,\n    backgroundColor: 'rgba(16, 185, 129, 0.15)',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 20\n  },\n  welcomeTitle: {\n    fontSize: 24,\n    fontWeight: '700',\n    color: '#fff',\n    marginBottom: 8\n  },\n  welcomeSubtitle: {\n    fontSize: 15,\n    color: '#9ca3af',\n    marginBottom: 32,\n    textAlign: 'center'\n  },\n  suggestionGrid: {\n    width: '100%',\n    gap: 10\n  },\n  suggestionCard: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#2f2f2f',\n    paddingVertical: 14,\n    paddingHorizontal: 16,\n    borderRadius: 14,\n    borderWidth: 1,\n    borderColor: '#3f3f3f',\n    gap: 12\n  },\n  suggestionText: {\n    flex: 1,\n    color: '#e5e5e5',\n    fontSize: 14\n  },\n  messageRow: {\n    flexDirection: 'row',\n    marginVertical: 12,\n    paddingHorizontal: 4\n  },\n  userMessageRow: {\n    flexDirection: 'row-reverse'\n  },\n  avatar: {\n    width: 36,\n    height: 36,\n    borderRadius: 18,\n    backgroundColor: '#10b981',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginRight: 12\n  },\n  errorAvatar: {\n    backgroundColor: '#ef4444'\n  },\n  userAvatar: {\n    width: 36,\n    height: 36,\n    borderRadius: 18,\n    backgroundColor: '#6366f1',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginLeft: 12\n  },\n  messageContent: {\n    flex: 1,\n    maxWidth: width - 100\n  },\n  userMessageContent: {\n    alignItems: 'flex-end'\n  },\n  senderLabel: {\n    color: '#9ca3af',\n    fontSize: 12,\n    fontWeight: '600',\n    marginBottom: 4,\n    textTransform: 'uppercase',\n    letterSpacing: 0.5\n  },\n  userSenderLabel: {\n    textAlign: 'right'\n  },\n  messageText: {\n    color: '#e5e5e5',\n    fontSize: 15,\n    lineHeight: 24,\n    backgroundColor: '#2f2f2f',\n    padding: 14,\n    borderRadius: 16,\n    borderTopLeftRadius: 4,\n    overflow: 'hidden'\n  },\n  userMessageText: {\n    backgroundColor: '#6366f1',\n    color: '#fff',\n    borderTopLeftRadius: 16,\n    borderTopRightRadius: 4\n  },\n  messageTime: {\n    color: '#6b7280',\n    fontSize: 11,\n    marginTop: 4\n  },\n  typingIndicator: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#2f2f2f',\n    paddingVertical: 16,\n    paddingHorizontal: 18,\n    borderRadius: 16,\n    borderTopLeftRadius: 4,\n    gap: 4\n  },\n  typingDot: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    backgroundColor: '#6b7280'\n  },\n  typingDot1: {\n    opacity: 0.4\n  },\n  typingDot2: {\n    opacity: 0.7\n  },\n  typingDot3: {\n    opacity: 1\n  },\n  alertsContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 6,\n    marginTop: 10\n  },\n  alertBadge: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#dc2626',\n    paddingHorizontal: 10,\n    paddingVertical: 5,\n    borderRadius: 6,\n    gap: 4\n  },\n  alertText: {\n    color: '#fff',\n    fontSize: 12,\n    fontWeight: '500'\n  },\n  analysisResults: {\n    marginTop: 12\n  },\n  section: {\n    marginTop: 16,\n    backgroundColor: '#2f2f2f',\n    borderRadius: 12,\n    padding: 14\n  },\n  sectionHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n    marginBottom: 10\n  },\n  sectionTitle: {\n    fontSize: 15,\n    fontWeight: '600',\n    color: '#fff'\n  },\n  insightText: {\n    color: '#10b981',\n    marginBottom: 6,\n    fontSize: 14,\n    lineHeight: 20,\n    paddingLeft: 8,\n    borderLeftWidth: 2,\n    borderLeftColor: '#10b981'\n  },\n  recommendationText: {\n    color: '#f59e0b',\n    marginBottom: 6,\n    fontSize: 14,\n    lineHeight: 20,\n    paddingLeft: 8,\n    borderLeftWidth: 2,\n    borderLeftColor: '#f59e0b'\n  },\n  dataCard: {\n    backgroundColor: '#424242',\n    borderRadius: 12,\n    padding: 14,\n    marginRight: 10,\n    minWidth: 150,\n    borderWidth: 1,\n    borderColor: '#525252'\n  },\n  solarCard: {\n    borderColor: '#f59e0b',\n    backgroundColor: 'rgba(245, 158, 11, 0.1)'\n  },\n  peakCard: {\n    borderColor: '#ef4444',\n    backgroundColor: 'rgba(239, 68, 68, 0.1)'\n  },\n  lowCard: {\n    borderColor: '#22c55e',\n    backgroundColor: 'rgba(34, 197, 94, 0.1)'\n  },\n  statsCard: {\n    borderColor: '#6366f1',\n    backgroundColor: 'rgba(99, 102, 241, 0.1)'\n  },\n  cardTitle: {\n    color: '#fff',\n    fontWeight: '600',\n    marginBottom: 10,\n    fontSize: 14\n  },\n  cardText: {\n    color: '#d1d5db',\n    fontSize: 13,\n    marginBottom: 4\n  },\n  timestamp: {\n    color: '#9ca3af',\n    fontSize: 11,\n    marginTop: 6\n  },\n  inputWrapper: {\n    backgroundColor: '#212121',\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n    borderTopWidth: 1,\n    borderTopColor: '#2f2f2f'\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'flex-end',\n    backgroundColor: '#2f2f2f',\n    borderRadius: 24,\n    paddingHorizontal: 8,\n    paddingVertical: 8,\n    borderWidth: 1,\n    borderColor: '#3f3f3f'\n  },\n  attachButton: {\n    padding: 8\n  },\n  input: {\n    flex: 1,\n    color: '#fff',\n    fontSize: 15,\n    maxHeight: 120,\n    paddingHorizontal: 8,\n    paddingVertical: 8\n  },\n  sendButton: {\n    width: 36,\n    height: 36,\n    borderRadius: 18,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  sendButtonDisabled: {\n    backgroundColor: '#424242'\n  },\n  disclaimer: {\n    color: '#6b7280',\n    fontSize: 11,\n    textAlign: 'center',\n    marginTop: 8\n  },\n  menuOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    flexDirection: 'row'\n  },\n  sideMenu: {\n    width: width * 0.75,\n    maxWidth: 300,\n    backgroundColor: '#171717',\n    paddingTop: Platform.OS === 'android' ? 44 : 20,\n    paddingHorizontal: 16\n  },\n  menuHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 12,\n    paddingVertical: 20,\n    marginBottom: 10\n  },\n  menuTitle: {\n    color: '#fff',\n    fontSize: 20,\n    fontWeight: '700'\n  },\n  menuItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 14,\n    paddingVertical: 14,\n    paddingHorizontal: 12,\n    borderRadius: 10,\n    marginBottom: 4\n  },\n  menuItemText: {\n    color: '#fff',\n    fontSize: 15\n  },\n  menuDivider: {\n    height: 1,\n    backgroundColor: '#2f2f2f',\n    marginVertical: 16\n  },\n  menuSection: {\n    paddingHorizontal: 12\n  },\n  menuSectionTitle: {\n    color: '#6b7280',\n    fontSize: 12,\n    fontWeight: '600',\n    textTransform: 'uppercase',\n    letterSpacing: 0.5,\n    marginBottom: 12\n  },\n  statusRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8,\n    marginBottom: 10\n  },\n  statusIndicator: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    backgroundColor: '#6b7280'\n  },\n  statusGreen: {\n    backgroundColor: '#10b981'\n  },\n  statusLabel: {\n    color: '#9ca3af',\n    fontSize: 13\n  }\n});\nexport default AIChatScreen;","map":{"version":3,"names":["React","useState","useRef","useEffect","View","Text","TextInput","TouchableOpacity","ScrollView","StyleSheet","ActivityIndicator","Platform","KeyboardAvoidingView","SafeAreaView","Dimensions","Modal","Ionicons","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","_Dimensions$get","get","width","height","API_BASE_URL","AIChatScreen","_useState","_useState2","_slicedToArray","messages","setMessages","_useState3","_useState4","inputMessage","setInputMessage","_useState5","_useState6","isLoading","setIsLoading","_useState7","_useState8","systemStatus","setSystemStatus","_useState9","_useState0","showDatePicker","setShowDatePicker","_useState1","_useState10","startDate","setStartDate","_useState11","_useState12","endDate","setEndDate","_useState13","_useState14","startTime","setStartTime","_useState15","_useState16","endTime","setEndTime","_useState17","_useState18","isAnalyzing","setIsAnalyzing","_useState19","_useState20","analysisQuestion","setAnalysisQuestion","_useState21","_useState22","showMenu","setShowMenu","scrollViewRef","scrollToBottom","_scrollViewRef$curren","current","scrollToEnd","animated","checkHealth","now","Date","today","toISOString","slice","handleStartDateChange","newDate","handleEndDateChange","_ref","_asyncToGenerator","response","fetch","data","json","error","status","database","ollama_server","apply","arguments","fetchDateRangeAnalysis","_ref2","alert","fullStartDate","fullEndDate","method","headers","body","JSON","stringify","start_date","end_date","question","dateDisplay","toLocaleDateString","prev","concat","_toConsumableArray","type","content","analysisData","console","sendMessage","_ref3","trim","userMessage","message","meterData","meter_data","solarData","solar_data","gridStatus","grid_status","historicalData","historical_data","formatTime","timestamp","date","toLocaleString","setQuickRange","currentTime","toTimeString","pastTime1h","getTime","past6h","past24h","past7d","renderDataCard","item","idx","isSolar","isPeak","isLow","isStats","style","styles","dataCard","solarCard","peakCard","lowCard","statsCard","children","cardTitle","meter_id","panel_id","cardText","total_readings","avg_power","max_power","min_power","avg_voltage","avg_pf","time","power","toFixed","voltage","pf","state","renderMessage","msg","index","_msg$gridStatus","_msg$gridStatus$alert","_msg$analysisData$ins","_msg$analysisData$rec","_msg$analysisData$pea","_msg$analysisData$low","_msg$analysisData$met","_msg$meterData","_msg$solarData","isUser","isAI","isError","isAnalysis","messageRow","userMessageRow","avatar","errorAvatar","name","size","color","messageContent","userMessageContent","senderLabel","userSenderLabel","messageText","userMessageText","alerts","length","alertsContainer","map","alertBadge","alertText","analysisResults","insights","section","sectionHeader","sectionTitle","insight","insightText","recommendations","rec","recommendationText","peak_times","horizontal","showsHorizontalScrollIndicator","peak","low_times","low","meter_analysis","statistics","stat","meter","panel","messageTime","toLocaleTimeString","hour","minute","userAvatar","container","header","menuButton","onPress","headerCenter","modelSelector","modelText","newChatButton","statusBar","statusDot","statusOnline","statusText","dateAnalysisBtn","dateAnalysisBtnText","visible","transparent","animationType","onRequestClose","modalOverlay","datePickerModal","modalHeader","modalTitle","analysisInput","placeholder","placeholderTextColor","value","onChangeText","dateInputsRow","dateInputGroup","inputLabel","dateInput","timeInput","quickRanges","label","quickBtn","quickBtnText","analyzeBtn","analyzeBtnDisabled","disabled","analyzeBtnText","chatContainer","behavior","OS","keyboardVerticalOffset","ref","messagesContainer","contentContainerStyle","messagesContent","onContentSizeChange","showsVerticalScrollIndicator","welcomeContainer","welcomeIconContainer","welcomeTitle","welcomeSubtitle","suggestionGrid","icon","text","suggestionCard","suggestionText","typingIndicator","typingDot","typingDot1","typingDot2","typingDot3","inputWrapper","inputContainer","attachButton","input","multiline","maxLength","editable","sendButton","sendButtonDisabled","disclaimer","menuOverlay","activeOpacity","sideMenu","menuHeader","menuTitle","menuItem","menuItemText","menuDivider","menuSection","menuSectionTitle","statusRow","statusIndicator","statusGreen","statusLabel","create","flex","backgroundColor","flexDirection","alignItems","justifyContent","paddingHorizontal","paddingVertical","paddingTop","borderBottomWidth","borderBottomColor","padding","gap","borderRadius","fontSize","fontWeight","marginLeft","borderTopLeftRadius","borderTopRightRadius","maxHeight","marginBottom","borderWidth","borderColor","flexWrap","paddingBottom","textAlign","marginVertical","marginRight","maxWidth","textTransform","letterSpacing","lineHeight","overflow","marginTop","opacity","paddingLeft","borderLeftWidth","borderLeftColor","minWidth","borderTopWidth","borderTopColor"],"sources":["C:/Users/mohan/OneDrive/Desktop/Mohan/Microgrid app/src/screens/AIChatScreen.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  ScrollView,\r\n  StyleSheet,\r\n  ActivityIndicator,\r\n  Platform,\r\n  KeyboardAvoidingView,\r\n  SafeAreaView,\r\n  Dimensions,\r\n  Modal,\r\n} from 'react-native';\r\nimport { Ionicons } from '@expo/vector-icons';\r\n\r\nconst { width, height } = Dimensions.get('window');\r\nconst API_BASE_URL = 'http://192.168.43.147:5000';\r\n\r\nconst AIChatScreen = () => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [inputMessage, setInputMessage] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [systemStatus, setSystemStatus] = useState(null);\r\n  const [showDatePicker, setShowDatePicker] = useState(false);\r\n  const [startDate, setStartDate] = useState('');\r\n  const [endDate, setEndDate] = useState('');\r\n  const [startTime, setStartTime] = useState('00:00');\r\n  const [endTime, setEndTime] = useState('23:59');\r\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\r\n  const [analysisQuestion, setAnalysisQuestion] = useState('');\r\n  const [showMenu, setShowMenu] = useState(false);\r\n  const scrollViewRef = useRef(null);\r\n\r\n  const scrollToBottom = () => {\r\n    scrollViewRef.current?.scrollToEnd({ animated: true });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  useEffect(() => {\r\n    checkHealth();\r\n    const now = new Date();\r\n    const today = now.toISOString().slice(0, 10);\r\n    setStartDate(today);\r\n    setEndDate(today);\r\n    setStartTime('00:00');\r\n    setEndTime('23:59');\r\n  }, []);\r\n\r\n  const handleStartDateChange = (newDate) => {\r\n    setStartDate(newDate);\r\n    if (newDate === endDate) {\r\n      setStartTime('00:00');\r\n      setEndTime('23:59');\r\n    }\r\n  };\r\n\r\n  const handleEndDateChange = (newDate) => {\r\n    setEndDate(newDate);\r\n    if (newDate === startDate) {\r\n      setStartTime('00:00');\r\n      setEndTime('23:59');\r\n    }\r\n  };\r\n\r\n  const checkHealth = async () => {\r\n    try {\r\n      const response = await fetch('http://192.168.43.147:5000/api/health');\r\n      const data = await response.json();\r\n      setSystemStatus(data);\r\n    } catch (error) {\r\n      setSystemStatus({ status: 'Backend Offline', database: 'Unknown', ollama_server: 'Unknown' });\r\n    }\r\n  };\r\n\r\n  const fetchDateRangeAnalysis = async () => {\r\n    if (!startDate || !endDate) {\r\n      alert('Please select both start and end dates');\r\n      return;\r\n    }\r\n\r\n    setIsAnalyzing(true);\r\n    try {\r\n      const fullStartDate = `${startDate}T${startTime}`;\r\n      const fullEndDate = `${endDate}T${endTime}`;\r\n      \r\n      const response = await fetch('http://192.168.43.147:5000/api/date-range-analysis', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          start_date: fullStartDate,\r\n          end_date: fullEndDate,\r\n          question: analysisQuestion\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      const dateDisplay = startDate === endDate \r\n        ? `${new Date(startDate).toLocaleDateString()} (${startTime} - ${endTime})`\r\n        : `${new Date(startDate).toLocaleDateString()} ${startTime} to ${new Date(endDate).toLocaleDateString()} ${endTime}`;\r\n      \r\n      setMessages(prev => [...prev, {\r\n        type: 'analysis',\r\n        content: `ðŸ“… Analysis for ${dateDisplay}${analysisQuestion ? ` - \"${analysisQuestion}\"` : ''}`,\r\n        analysisData: data\r\n      }]);\r\n      \r\n    } catch (error) {\r\n      console.error('Date range analysis error:', error);\r\n      alert('Failed to fetch date range analysis');\r\n    } finally {\r\n      setIsAnalyzing(false);\r\n    }\r\n  };\r\n\r\n  const sendMessage = async () => {\r\n    if (!inputMessage.trim() || isLoading) return;\r\n\r\n    const userMessage = inputMessage.trim();\r\n    setInputMessage('');\r\n    \r\n    setMessages(prev => [...prev, { type: 'user', content: userMessage }]);\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const response = await fetch('http://192.168.43.147:5000/api/chat', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ message: userMessage }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      setMessages(prev => [...prev, { \r\n        type: 'ai', \r\n        content: data.response,\r\n        meterData: data.meter_data,\r\n        solarData: data.solar_data,\r\n        gridStatus: data.grid_status,\r\n        historicalData: data.historical_data\r\n      }]);\r\n    } catch (error) {\r\n      setMessages(prev => [...prev, { \r\n        type: 'error', \r\n        content: 'Error: Could not connect to the server. Make sure the backend is running on port 5000.' \r\n      }]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatTime = (timestamp) => {\r\n    if (!timestamp) return '';\r\n    const date = new Date(timestamp);\r\n    return date.toLocaleString();\r\n  };\r\n\r\n  const setQuickRange = (type) => {\r\n    const now = new Date();\r\n    const today = now.toISOString().slice(0, 10);\r\n    const currentTime = now.toTimeString().slice(0, 5);\r\n\r\n    switch (type) {\r\n      case 'today':\r\n        setStartDate(today);\r\n        setEndDate(today);\r\n        setStartTime('00:00');\r\n        setEndTime('23:59');\r\n        break;\r\n      case '1hour':\r\n        const pastTime1h = new Date(now.getTime() - 1 * 60 * 60 * 1000).toTimeString().slice(0, 5);\r\n        setStartDate(today);\r\n        setEndDate(today);\r\n        setStartTime(pastTime1h);\r\n        setEndTime(currentTime);\r\n        break;\r\n      case '6hours':\r\n        const past6h = new Date(now.getTime() - 6 * 60 * 60 * 1000);\r\n        setStartDate(past6h.toISOString().slice(0, 10));\r\n        setEndDate(today);\r\n        setStartTime(past6h.toTimeString().slice(0, 5));\r\n        setEndTime(currentTime);\r\n        break;\r\n      case '24hours':\r\n        const past24h = new Date(now.getTime() - 24 * 60 * 60 * 1000);\r\n        setStartDate(past24h.toISOString().slice(0, 10));\r\n        setEndDate(today);\r\n        setStartTime(past24h.toTimeString().slice(0, 5));\r\n        setEndTime(currentTime);\r\n        break;\r\n      case '7days':\r\n        const past7d = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n        setStartDate(past7d.toISOString().slice(0, 10));\r\n        setEndDate(today);\r\n        setStartTime('00:00');\r\n        setEndTime('23:59');\r\n        break;\r\n    }\r\n  };\r\n\r\n  const renderDataCard = (item, type, idx) => {\r\n    const isSolar = type === 'solar';\r\n    const isPeak = type === 'peak';\r\n    const isLow = type === 'low';\r\n    const isStats = type === 'stats';\r\n\r\n    return (\r\n      <View key={idx} style={[\r\n        styles.dataCard,\r\n        isSolar && styles.solarCard,\r\n        isPeak && styles.peakCard,\r\n        isLow && styles.lowCard,\r\n        isStats && styles.statsCard\r\n      ]}>\r\n        <Text style={styles.cardTitle}>\r\n          {isStats ? `Meter ${item.meter_id}` : \r\n           isPeak ? `Meter ${item.meter_id} - PEAK` :\r\n           isLow ? `Meter ${item.meter_id} - LOW` :\r\n           isSolar ? `Panel ${item.panel_id}` : `Meter ${item.meter_id}`}\r\n        </Text>\r\n        {isStats ? (\r\n          <>\r\n            <Text style={styles.cardText}>Readings: {item.total_readings}</Text>\r\n            <Text style={styles.cardText}>Avg Power: {item.avg_power}W</Text>\r\n            <Text style={styles.cardText}>Max Power: {item.max_power}W</Text>\r\n            <Text style={styles.cardText}>Min Power: {item.min_power}W</Text>\r\n            <Text style={styles.cardText}>Avg Voltage: {item.avg_voltage}V</Text>\r\n            <Text style={styles.cardText}>Avg PF: {item.avg_pf}</Text>\r\n          </>\r\n        ) : isPeak || isLow ? (\r\n          <>\r\n            <Text style={styles.cardText}>ðŸ• {formatTime(item.time)}</Text>\r\n            <Text style={styles.cardText}>âš¡ {item.power.toFixed(1)}W</Text>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Text style={styles.cardText}>âš¡ {item.voltage.toFixed(1)}V</Text>\r\n            <Text style={styles.cardText}>ðŸ”Œ {item.current.toFixed(2)}A</Text>\r\n            <Text style={styles.cardText}>ðŸ’¡ {item.power.toFixed(1)}W</Text>\r\n            {item.pf && <Text style={styles.cardText}>ðŸ“ˆ PF: {item.pf.toFixed(2)}</Text>}\r\n            <Text style={styles.cardText}>ðŸ”§ {item.state}</Text>\r\n            {item.timestamp && <Text style={styles.timestamp}>ðŸ• {formatTime(item.timestamp)}</Text>}\r\n          </>\r\n        )}\r\n      </View>\r\n    );\r\n  };\r\n\r\n  const renderMessage = (msg, index) => {\r\n    const isUser = msg.type === 'user';\r\n    const isAI = msg.type === 'ai';\r\n    const isError = msg.type === 'error';\r\n    const isAnalysis = msg.type === 'analysis';\r\n\r\n    return (\r\n      <View key={index} style={[styles.messageRow, isUser && styles.userMessageRow]}>\r\n        {/* Avatar */}\r\n        {!isUser && (\r\n          <View style={[styles.avatar, isError && styles.errorAvatar]}>\r\n            <Ionicons \r\n              name={isError ? \"warning\" : \"flash\"} \r\n              size={20} \r\n              color=\"#fff\" \r\n            />\r\n          </View>\r\n        )}\r\n        \r\n        <View style={[styles.messageContent, isUser && styles.userMessageContent]}>\r\n          {/* Sender Label */}\r\n          <Text style={[styles.senderLabel, isUser && styles.userSenderLabel]}>\r\n            {isUser ? 'You' : isError ? 'Error' : 'Microgrid AI'}\r\n          </Text>\r\n          \r\n          {/* Message Text */}\r\n          <Text style={[styles.messageText, isUser && styles.userMessageText]}>\r\n            {msg.content}\r\n          </Text>\r\n\r\n          {/* Alerts */}\r\n          {msg.gridStatus?.alerts?.length > 0 && (\r\n            <View style={styles.alertsContainer}>\r\n              {msg.gridStatus.alerts.map((alert, idx) => (\r\n                <View key={idx} style={styles.alertBadge}>\r\n                  <Ionicons name=\"alert-circle\" size={14} color=\"#fff\" />\r\n                  <Text style={styles.alertText}>{alert}</Text>\r\n                </View>\r\n              ))}\r\n            </View>\r\n          )}\r\n\r\n          {/* Analysis Results */}\r\n          {isAnalysis && msg.analysisData && (\r\n            <View style={styles.analysisResults}>\r\n              {msg.analysisData.insights?.length > 0 && (\r\n                <View style={styles.section}>\r\n                  <View style={styles.sectionHeader}>\r\n                    <Ionicons name=\"bulb\" size={18} color=\"#10b981\" />\r\n                    <Text style={styles.sectionTitle}>Insights</Text>\r\n                  </View>\r\n                  {msg.analysisData.insights.map((insight, idx) => (\r\n                    <Text key={idx} style={styles.insightText}>{insight}</Text>\r\n                  ))}\r\n                </View>\r\n              )}\r\n              \r\n              {msg.analysisData.recommendations?.length > 0 && (\r\n                <View style={styles.section}>\r\n                  <View style={styles.sectionHeader}>\r\n                    <Ionicons name=\"construct\" size={18} color=\"#f59e0b\" />\r\n                    <Text style={styles.sectionTitle}>Recommendations</Text>\r\n                  </View>\r\n                  {msg.analysisData.recommendations.map((rec, idx) => (\r\n                    <Text key={idx} style={styles.recommendationText}>{rec}</Text>\r\n                  ))}\r\n                </View>\r\n              )}\r\n              \r\n              {msg.analysisData.peak_times?.length > 0 && (\r\n                <View style={styles.section}>\r\n                  <View style={styles.sectionHeader}>\r\n                    <Ionicons name=\"trending-up\" size={18} color=\"#ef4444\" />\r\n                    <Text style={styles.sectionTitle}>Peak Consumption</Text>\r\n                  </View>\r\n                  <ScrollView horizontal showsHorizontalScrollIndicator={false}>\r\n                    {msg.analysisData.peak_times.map((peak, idx) => renderDataCard(peak, 'peak', idx))}\r\n                  </ScrollView>\r\n                </View>\r\n              )}\r\n              \r\n              {msg.analysisData.low_times?.length > 0 && (\r\n                <View style={styles.section}>\r\n                  <View style={styles.sectionHeader}>\r\n                    <Ionicons name=\"trending-down\" size={18} color=\"#22c55e\" />\r\n                    <Text style={styles.sectionTitle}>Low Consumption</Text>\r\n                  </View>\r\n                  <ScrollView horizontal showsHorizontalScrollIndicator={false}>\r\n                    {msg.analysisData.low_times.map((low, idx) => renderDataCard(low, 'low', idx))}\r\n                  </ScrollView>\r\n                </View>\r\n              )}\r\n              \r\n              {msg.analysisData.meter_analysis?.statistics && (\r\n                <View style={styles.section}>\r\n                  <View style={styles.sectionHeader}>\r\n                    <Ionicons name=\"stats-chart\" size={18} color=\"#6366f1\" />\r\n                    <Text style={styles.sectionTitle}>Statistics</Text>\r\n                  </View>\r\n                  <ScrollView horizontal showsHorizontalScrollIndicator={false}>\r\n                    {msg.analysisData.meter_analysis.statistics.map((stat, idx) => renderDataCard(stat, 'stats', idx))}\r\n                  </ScrollView>\r\n                </View>\r\n              )}\r\n            </View>\r\n          )}\r\n\r\n          {/* Meter Data */}\r\n          {msg.meterData?.length > 0 && (\r\n            <View style={styles.section}>\r\n              <View style={styles.sectionHeader}>\r\n                <Ionicons name=\"speedometer\" size={18} color=\"#6366f1\" />\r\n                <Text style={styles.sectionTitle}>Meter Data</Text>\r\n              </View>\r\n              <ScrollView horizontal showsHorizontalScrollIndicator={false}>\r\n                {msg.meterData.map((meter, idx) => renderDataCard(meter, 'meter', idx))}\r\n              </ScrollView>\r\n            </View>\r\n          )}\r\n          \r\n          {/* Solar Data */}\r\n          {msg.solarData?.length > 0 && (\r\n            <View style={styles.section}>\r\n              <View style={styles.sectionHeader}>\r\n                <Ionicons name=\"sunny\" size={18} color=\"#f59e0b\" />\r\n                <Text style={styles.sectionTitle}>Solar Panels</Text>\r\n              </View>\r\n              <ScrollView horizontal showsHorizontalScrollIndicator={false}>\r\n                {msg.solarData.map((panel, idx) => renderDataCard(panel, 'solar', idx))}\r\n              </ScrollView>\r\n            </View>\r\n          )}\r\n\r\n          {/* Timestamp */}\r\n          <Text style={styles.messageTime}>\r\n            {new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n          </Text>\r\n        </View>\r\n\r\n        {/* User Avatar */}\r\n        {isUser && (\r\n          <View style={styles.userAvatar}>\r\n            <Ionicons name=\"person\" size={20} color=\"#fff\" />\r\n          </View>\r\n        )}\r\n      </View>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n      {/* Header */}\r\n      <View style={styles.header}>\r\n        <TouchableOpacity \r\n          style={styles.menuButton}\r\n          onPress={() => setShowMenu(true)}\r\n        >\r\n          <Ionicons name=\"menu\" size={24} color=\"#fff\" />\r\n        </TouchableOpacity>\r\n        \r\n        <View style={styles.headerCenter}>\r\n          <View style={styles.modelSelector}>\r\n            <Ionicons name=\"flash\" size={18} color=\"#10b981\" />\r\n            <Text style={styles.modelText}>Microgrid AI</Text>\r\n            <Ionicons name=\"chevron-down\" size={16} color=\"#9ca3af\" />\r\n          </View>\r\n        </View>\r\n        \r\n        <TouchableOpacity \r\n          style={styles.newChatButton}\r\n          onPress={() => setMessages([])}\r\n        >\r\n          <Ionicons name=\"create-outline\" size={24} color=\"#fff\" />\r\n        </TouchableOpacity>\r\n      </View>\r\n\r\n      {/* Status Bar */}\r\n      <View style={styles.statusBar}>\r\n        <View style={[styles.statusDot, systemStatus?.database === 'Connected' && styles.statusOnline]} />\r\n        <Text style={styles.statusText}>\r\n          {systemStatus?.database === 'Connected' ? 'Connected' : 'Connecting...'}\r\n        </Text>\r\n        <TouchableOpacity \r\n          style={styles.dateAnalysisBtn}\r\n          onPress={() => setShowDatePicker(!showDatePicker)}\r\n        >\r\n          <Ionicons name=\"calendar\" size={16} color=\"#6366f1\" />\r\n          <Text style={styles.dateAnalysisBtnText}>Date Analysis</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n\r\n      {/* Date Range Picker Modal */}\r\n      <Modal\r\n        visible={showDatePicker}\r\n        transparent\r\n        animationType=\"slide\"\r\n        onRequestClose={() => setShowDatePicker(false)}\r\n      >\r\n        <View style={styles.modalOverlay}>\r\n          <View style={styles.datePickerModal}>\r\n            <View style={styles.modalHeader}>\r\n              <Text style={styles.modalTitle}>Date Range Analysis</Text>\r\n              <TouchableOpacity onPress={() => setShowDatePicker(false)}>\r\n                <Ionicons name=\"close\" size={24} color=\"#9ca3af\" />\r\n              </TouchableOpacity>\r\n            </View>\r\n            \r\n            <TextInput\r\n              style={styles.analysisInput}\r\n              placeholder=\"What do you want to analyze?\"\r\n              placeholderTextColor=\"#6b7280\"\r\n              value={analysisQuestion}\r\n              onChangeText={setAnalysisQuestion}\r\n            />\r\n            \r\n            <View style={styles.dateInputsRow}>\r\n              <View style={styles.dateInputGroup}>\r\n                <Text style={styles.inputLabel}>Start Date</Text>\r\n                <TextInput\r\n                  style={styles.dateInput}\r\n                  value={startDate}\r\n                  onChangeText={handleStartDateChange}\r\n                  placeholder=\"YYYY-MM-DD\"\r\n                  placeholderTextColor=\"#6b7280\"\r\n                />\r\n                <TextInput\r\n                  style={styles.timeInput}\r\n                  value={startTime}\r\n                  onChangeText={setStartTime}\r\n                  placeholder=\"HH:MM\"\r\n                  placeholderTextColor=\"#6b7280\"\r\n                />\r\n              </View>\r\n              <View style={styles.dateInputGroup}>\r\n                <Text style={styles.inputLabel}>End Date</Text>\r\n                <TextInput\r\n                  style={styles.dateInput}\r\n                  value={endDate}\r\n                  onChangeText={handleEndDateChange}\r\n                  placeholder=\"YYYY-MM-DD\"\r\n                  placeholderTextColor=\"#6b7280\"\r\n                />\r\n                <TextInput\r\n                  style={styles.timeInput}\r\n                  value={endTime}\r\n                  onChangeText={setEndTime}\r\n                  placeholder=\"HH:MM\"\r\n                  placeholderTextColor=\"#6b7280\"\r\n                />\r\n              </View>\r\n            </View>\r\n            \r\n            <View style={styles.quickRanges}>\r\n              {['Today', '1 Hour', '6 Hours', '24 Hours', '7 Days'].map((label, idx) => (\r\n                <TouchableOpacity \r\n                  key={idx}\r\n                  style={styles.quickBtn} \r\n                  onPress={() => setQuickRange(['today', '1hour', '6hours', '24hours', '7days'][idx])}\r\n                >\r\n                  <Text style={styles.quickBtnText}>{label}</Text>\r\n                </TouchableOpacity>\r\n              ))}\r\n            </View>\r\n            \r\n            <TouchableOpacity \r\n              style={[styles.analyzeBtn, isAnalyzing && styles.analyzeBtnDisabled]}\r\n              onPress={() => {\r\n                fetchDateRangeAnalysis();\r\n                setShowDatePicker(false);\r\n              }}\r\n              disabled={isAnalyzing}\r\n            >\r\n              {isAnalyzing ? (\r\n                <ActivityIndicator size=\"small\" color=\"#fff\" />\r\n              ) : (\r\n                <>\r\n                  <Ionicons name=\"search\" size={18} color=\"#fff\" />\r\n                  <Text style={styles.analyzeBtnText}>Analyze Period</Text>\r\n                </>\r\n              )}\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n\r\n      {/* Chat Messages */}\r\n      <KeyboardAvoidingView \r\n        style={styles.chatContainer}\r\n        behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\r\n        keyboardVerticalOffset={Platform.OS === 'ios' ? 90 : 0}\r\n      >\r\n        <ScrollView \r\n          ref={scrollViewRef}\r\n          style={styles.messagesContainer}\r\n          contentContainerStyle={styles.messagesContent}\r\n          onContentSizeChange={scrollToBottom}\r\n          showsVerticalScrollIndicator={false}\r\n        >\r\n          {messages.length === 0 && (\r\n            <View style={styles.welcomeContainer}>\r\n              <View style={styles.welcomeIconContainer}>\r\n                <Ionicons name=\"flash\" size={48} color=\"#10b981\" />\r\n              </View>\r\n              <Text style={styles.welcomeTitle}>Microgrid AI Assistant</Text>\r\n              <Text style={styles.welcomeSubtitle}>Your intelligent energy management companion</Text>\r\n              \r\n              <View style={styles.suggestionGrid}>\r\n                {[\r\n                  { icon: 'speedometer', text: 'Current power status', color: '#6366f1' },\r\n                  { icon: 'sunny', text: 'Solar panel output', color: '#f59e0b' },\r\n                  { icon: 'trending-up', text: 'Peak consumption times', color: '#ef4444' },\r\n                  { icon: 'analytics', text: 'Energy efficiency tips', color: '#10b981' },\r\n                ].map((item, idx) => (\r\n                  <TouchableOpacity \r\n                    key={idx}\r\n                    style={styles.suggestionCard}\r\n                    onPress={() => {\r\n                      setInputMessage(item.text === 'Current power status' \r\n                        ? 'What is the current power consumption?'\r\n                        : item.text === 'Solar panel output'\r\n                        ? 'Show me the solar panel performance'\r\n                        : item.text === 'Peak consumption times'\r\n                        ? 'When are the peak consumption times?'\r\n                        : 'Give me energy efficiency recommendations');\r\n                    }}\r\n                  >\r\n                    <Ionicons name={item.icon} size={24} color={item.color} />\r\n                    <Text style={styles.suggestionText}>{item.text}</Text>\r\n                    <Ionicons name=\"arrow-forward\" size={16} color=\"#6b7280\" />\r\n                  </TouchableOpacity>\r\n                ))}\r\n              </View>\r\n            </View>\r\n          )}\r\n          \r\n          {messages.map((msg, index) => renderMessage(msg, index))}\r\n          \r\n          {isLoading && (\r\n            <View style={styles.messageRow}>\r\n              <View style={styles.avatar}>\r\n                <Ionicons name=\"flash\" size={20} color=\"#fff\" />\r\n              </View>\r\n              <View style={styles.messageContent}>\r\n                <Text style={styles.senderLabel}>Microgrid AI</Text>\r\n                <View style={styles.typingIndicator}>\r\n                  <View style={[styles.typingDot, styles.typingDot1]} />\r\n                  <View style={[styles.typingDot, styles.typingDot2]} />\r\n                  <View style={[styles.typingDot, styles.typingDot3]} />\r\n                </View>\r\n              </View>\r\n            </View>\r\n          )}\r\n        </ScrollView>\r\n\r\n        {/* Input Area */}\r\n        <View style={styles.inputWrapper}>\r\n          <View style={styles.inputContainer}>\r\n            <TouchableOpacity style={styles.attachButton}>\r\n              <Ionicons name=\"add-circle-outline\" size={24} color=\"#9ca3af\" />\r\n            </TouchableOpacity>\r\n            \r\n            <TextInput\r\n              style={styles.input}\r\n              value={inputMessage}\r\n              onChangeText={setInputMessage}\r\n              placeholder=\"Message Microgrid AI...\"\r\n              placeholderTextColor=\"#6b7280\"\r\n              multiline\r\n              maxLength={2000}\r\n              editable={!isLoading}\r\n            />\r\n            \r\n            <TouchableOpacity \r\n              style={[\r\n                styles.sendButton, \r\n                (!inputMessage.trim() || isLoading) && styles.sendButtonDisabled\r\n              ]}\r\n              onPress={sendMessage}\r\n              disabled={isLoading || !inputMessage.trim()}\r\n            >\r\n              <Ionicons \r\n                name=\"arrow-up\" \r\n                size={20} \r\n                color={inputMessage.trim() && !isLoading ? '#fff' : '#6b7280'} \r\n              />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <Text style={styles.disclaimer}>\r\n            AI can make mistakes. Verify important energy data.\r\n          </Text>\r\n        </View>\r\n      </KeyboardAvoidingView>\r\n\r\n      {/* Side Menu Modal */}\r\n      <Modal\r\n        visible={showMenu}\r\n        transparent\r\n        animationType=\"fade\"\r\n        onRequestClose={() => setShowMenu(false)}\r\n      >\r\n        <TouchableOpacity \r\n          style={styles.menuOverlay}\r\n          activeOpacity={1}\r\n          onPress={() => setShowMenu(false)}\r\n        >\r\n          <View style={styles.sideMenu}>\r\n            <View style={styles.menuHeader}>\r\n              <Ionicons name=\"flash\" size={32} color=\"#10b981\" />\r\n              <Text style={styles.menuTitle}>Microgrid AI</Text>\r\n            </View>\r\n            \r\n            <TouchableOpacity \r\n              style={styles.menuItem}\r\n              onPress={() => {\r\n                setMessages([]);\r\n                setShowMenu(false);\r\n              }}\r\n            >\r\n              <Ionicons name=\"add-circle-outline\" size={22} color=\"#fff\" />\r\n              <Text style={styles.menuItemText}>New Chat</Text>\r\n            </TouchableOpacity>\r\n            \r\n            <TouchableOpacity \r\n              style={styles.menuItem}\r\n              onPress={() => {\r\n                setShowMenu(false);\r\n                setShowDatePicker(true);\r\n              }}\r\n            >\r\n              <Ionicons name=\"calendar-outline\" size={22} color=\"#fff\" />\r\n              <Text style={styles.menuItemText}>Date Analysis</Text>\r\n            </TouchableOpacity>\r\n            \r\n            <View style={styles.menuDivider} />\r\n            \r\n            <View style={styles.menuSection}>\r\n              <Text style={styles.menuSectionTitle}>System Status</Text>\r\n              <View style={styles.statusRow}>\r\n                <View style={[styles.statusIndicator, systemStatus?.database === 'Connected' && styles.statusGreen]} />\r\n                <Text style={styles.statusLabel}>Database: {systemStatus?.database || 'Checking...'}</Text>\r\n              </View>\r\n              <View style={styles.statusRow}>\r\n                <View style={[styles.statusIndicator, systemStatus?.ollama_server === 'Connected' && styles.statusGreen]} />\r\n                <Text style={styles.statusLabel}>LLM: {systemStatus?.ollama_server || 'Checking...'}</Text>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </TouchableOpacity>\r\n      </Modal>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#212121',\r\n  },\r\n  \r\n  // Header Styles\r\n  header: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    paddingHorizontal: 16,\r\n    paddingVertical: 12,\r\n    paddingTop: Platform.OS === 'android' ? 44 : 12,\r\n    backgroundColor: '#212121',\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#2f2f2f',\r\n  },\r\n  menuButton: {\r\n    padding: 8,\r\n  },\r\n  headerCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n  },\r\n  modelSelector: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 6,\r\n    paddingHorizontal: 12,\r\n    paddingVertical: 6,\r\n    borderRadius: 8,\r\n    backgroundColor: '#2f2f2f',\r\n  },\r\n  modelText: {\r\n    color: '#fff',\r\n    fontSize: 16,\r\n    fontWeight: '600',\r\n  },\r\n  newChatButton: {\r\n    padding: 8,\r\n  },\r\n\r\n  // Status Bar\r\n  statusBar: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 16,\r\n    backgroundColor: '#212121',\r\n    gap: 8,\r\n  },\r\n  statusDot: {\r\n    width: 8,\r\n    height: 8,\r\n    borderRadius: 4,\r\n    backgroundColor: '#6b7280',\r\n  },\r\n  statusOnline: {\r\n    backgroundColor: '#10b981',\r\n  },\r\n  statusText: {\r\n    color: '#9ca3af',\r\n    fontSize: 12,\r\n  },\r\n  dateAnalysisBtn: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 4,\r\n    paddingHorizontal: 12,\r\n    paddingVertical: 6,\r\n    borderRadius: 16,\r\n    backgroundColor: '#2f2f2f',\r\n    marginLeft: 'auto',\r\n  },\r\n  dateAnalysisBtnText: {\r\n    color: '#6366f1',\r\n    fontSize: 12,\r\n    fontWeight: '500',\r\n  },\r\n\r\n  // Modal Styles\r\n  modalOverlay: {\r\n    flex: 1,\r\n    backgroundColor: 'rgba(0,0,0,0.7)',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  datePickerModal: {\r\n    backgroundColor: '#2f2f2f',\r\n    borderTopLeftRadius: 20,\r\n    borderTopRightRadius: 20,\r\n    padding: 20,\r\n    maxHeight: height * 0.7,\r\n  },\r\n  modalHeader: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  modalTitle: {\r\n    color: '#fff',\r\n    fontSize: 20,\r\n    fontWeight: '600',\r\n  },\r\n  analysisInput: {\r\n    backgroundColor: '#424242',\r\n    borderRadius: 12,\r\n    padding: 14,\r\n    color: '#fff',\r\n    fontSize: 15,\r\n    marginBottom: 16,\r\n    borderWidth: 1,\r\n    borderColor: '#525252',\r\n  },\r\n  dateInputsRow: {\r\n    flexDirection: 'row',\r\n    gap: 12,\r\n    marginBottom: 16,\r\n  },\r\n  dateInputGroup: {\r\n    flex: 1,\r\n  },\r\n  inputLabel: {\r\n    color: '#9ca3af',\r\n    marginBottom: 6,\r\n    fontSize: 13,\r\n    fontWeight: '500',\r\n  },\r\n  dateInput: {\r\n    backgroundColor: '#424242',\r\n    borderRadius: 10,\r\n    padding: 12,\r\n    color: '#fff',\r\n    marginBottom: 8,\r\n    borderWidth: 1,\r\n    borderColor: '#525252',\r\n  },\r\n  timeInput: {\r\n    backgroundColor: '#424242',\r\n    borderRadius: 10,\r\n    padding: 12,\r\n    color: '#fff',\r\n    borderWidth: 1,\r\n    borderColor: '#525252',\r\n  },\r\n  quickRanges: {\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    gap: 8,\r\n    marginBottom: 16,\r\n  },\r\n  quickBtn: {\r\n    backgroundColor: '#424242',\r\n    paddingHorizontal: 14,\r\n    paddingVertical: 8,\r\n    borderRadius: 20,\r\n    borderWidth: 1,\r\n    borderColor: '#525252',\r\n  },\r\n  quickBtnText: {\r\n    color: '#fff',\r\n    fontSize: 13,\r\n  },\r\n  analyzeBtn: {\r\n    backgroundColor: '#10b981',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    gap: 8,\r\n    paddingVertical: 14,\r\n    borderRadius: 12,\r\n  },\r\n  analyzeBtnDisabled: {\r\n    backgroundColor: '#4b5563',\r\n  },\r\n  analyzeBtnText: {\r\n    color: '#fff',\r\n    fontWeight: '600',\r\n    fontSize: 16,\r\n  },\r\n\r\n  // Chat Container\r\n  chatContainer: {\r\n    flex: 1,\r\n    backgroundColor: '#212121',\r\n  },\r\n  messagesContainer: {\r\n    flex: 1,\r\n  },\r\n  messagesContent: {\r\n    paddingHorizontal: 16,\r\n    paddingBottom: 20,\r\n  },\r\n\r\n  // Welcome Screen\r\n  welcomeContainer: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingTop: 40,\r\n    paddingHorizontal: 20,\r\n  },\r\n  welcomeIconContainer: {\r\n    width: 80,\r\n    height: 80,\r\n    borderRadius: 40,\r\n    backgroundColor: 'rgba(16, 185, 129, 0.15)',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  welcomeTitle: {\r\n    fontSize: 24,\r\n    fontWeight: '700',\r\n    color: '#fff',\r\n    marginBottom: 8,\r\n  },\r\n  welcomeSubtitle: {\r\n    fontSize: 15,\r\n    color: '#9ca3af',\r\n    marginBottom: 32,\r\n    textAlign: 'center',\r\n  },\r\n  suggestionGrid: {\r\n    width: '100%',\r\n    gap: 10,\r\n  },\r\n  suggestionCard: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#2f2f2f',\r\n    paddingVertical: 14,\r\n    paddingHorizontal: 16,\r\n    borderRadius: 14,\r\n    borderWidth: 1,\r\n    borderColor: '#3f3f3f',\r\n    gap: 12,\r\n  },\r\n  suggestionText: {\r\n    flex: 1,\r\n    color: '#e5e5e5',\r\n    fontSize: 14,\r\n  },\r\n\r\n  // Message Styles\r\n  messageRow: {\r\n    flexDirection: 'row',\r\n    marginVertical: 12,\r\n    paddingHorizontal: 4,\r\n  },\r\n  userMessageRow: {\r\n    flexDirection: 'row-reverse',\r\n  },\r\n  avatar: {\r\n    width: 36,\r\n    height: 36,\r\n    borderRadius: 18,\r\n    backgroundColor: '#10b981',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginRight: 12,\r\n  },\r\n  errorAvatar: {\r\n    backgroundColor: '#ef4444',\r\n  },\r\n  userAvatar: {\r\n    width: 36,\r\n    height: 36,\r\n    borderRadius: 18,\r\n    backgroundColor: '#6366f1',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginLeft: 12,\r\n  },\r\n  messageContent: {\r\n    flex: 1,\r\n    maxWidth: width - 100,\r\n  },\r\n  userMessageContent: {\r\n    alignItems: 'flex-end',\r\n  },\r\n  senderLabel: {\r\n    color: '#9ca3af',\r\n    fontSize: 12,\r\n    fontWeight: '600',\r\n    marginBottom: 4,\r\n    textTransform: 'uppercase',\r\n    letterSpacing: 0.5,\r\n  },\r\n  userSenderLabel: {\r\n    textAlign: 'right',\r\n  },\r\n  messageText: {\r\n    color: '#e5e5e5',\r\n    fontSize: 15,\r\n    lineHeight: 24,\r\n    backgroundColor: '#2f2f2f',\r\n    padding: 14,\r\n    borderRadius: 16,\r\n    borderTopLeftRadius: 4,\r\n    overflow: 'hidden',\r\n  },\r\n  userMessageText: {\r\n    backgroundColor: '#6366f1',\r\n    color: '#fff',\r\n    borderTopLeftRadius: 16,\r\n    borderTopRightRadius: 4,\r\n  },\r\n  messageTime: {\r\n    color: '#6b7280',\r\n    fontSize: 11,\r\n    marginTop: 4,\r\n  },\r\n\r\n  // Typing Indicator\r\n  typingIndicator: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#2f2f2f',\r\n    paddingVertical: 16,\r\n    paddingHorizontal: 18,\r\n    borderRadius: 16,\r\n    borderTopLeftRadius: 4,\r\n    gap: 4,\r\n  },\r\n  typingDot: {\r\n    width: 8,\r\n    height: 8,\r\n    borderRadius: 4,\r\n    backgroundColor: '#6b7280',\r\n  },\r\n  typingDot1: {\r\n    opacity: 0.4,\r\n  },\r\n  typingDot2: {\r\n    opacity: 0.7,\r\n  },\r\n  typingDot3: {\r\n    opacity: 1,\r\n  },\r\n\r\n  // Alerts\r\n  alertsContainer: {\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    gap: 6,\r\n    marginTop: 10,\r\n  },\r\n  alertBadge: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#dc2626',\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 5,\r\n    borderRadius: 6,\r\n    gap: 4,\r\n  },\r\n  alertText: {\r\n    color: '#fff',\r\n    fontSize: 12,\r\n    fontWeight: '500',\r\n  },\r\n\r\n  // Analysis Results\r\n  analysisResults: {\r\n    marginTop: 12,\r\n  },\r\n  section: {\r\n    marginTop: 16,\r\n    backgroundColor: '#2f2f2f',\r\n    borderRadius: 12,\r\n    padding: 14,\r\n  },\r\n  sectionHeader: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 8,\r\n    marginBottom: 10,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 15,\r\n    fontWeight: '600',\r\n    color: '#fff',\r\n  },\r\n  insightText: {\r\n    color: '#10b981',\r\n    marginBottom: 6,\r\n    fontSize: 14,\r\n    lineHeight: 20,\r\n    paddingLeft: 8,\r\n    borderLeftWidth: 2,\r\n    borderLeftColor: '#10b981',\r\n  },\r\n  recommendationText: {\r\n    color: '#f59e0b',\r\n    marginBottom: 6,\r\n    fontSize: 14,\r\n    lineHeight: 20,\r\n    paddingLeft: 8,\r\n    borderLeftWidth: 2,\r\n    borderLeftColor: '#f59e0b',\r\n  },\r\n\r\n  // Data Cards\r\n  dataCard: {\r\n    backgroundColor: '#424242',\r\n    borderRadius: 12,\r\n    padding: 14,\r\n    marginRight: 10,\r\n    minWidth: 150,\r\n    borderWidth: 1,\r\n    borderColor: '#525252',\r\n  },\r\n  solarCard: {\r\n    borderColor: '#f59e0b',\r\n    backgroundColor: 'rgba(245, 158, 11, 0.1)',\r\n  },\r\n  peakCard: {\r\n    borderColor: '#ef4444',\r\n    backgroundColor: 'rgba(239, 68, 68, 0.1)',\r\n  },\r\n  lowCard: {\r\n    borderColor: '#22c55e',\r\n    backgroundColor: 'rgba(34, 197, 94, 0.1)',\r\n  },\r\n  statsCard: {\r\n    borderColor: '#6366f1',\r\n    backgroundColor: 'rgba(99, 102, 241, 0.1)',\r\n  },\r\n  cardTitle: {\r\n    color: '#fff',\r\n    fontWeight: '600',\r\n    marginBottom: 10,\r\n    fontSize: 14,\r\n  },\r\n  cardText: {\r\n    color: '#d1d5db',\r\n    fontSize: 13,\r\n    marginBottom: 4,\r\n  },\r\n  timestamp: {\r\n    color: '#9ca3af',\r\n    fontSize: 11,\r\n    marginTop: 6,\r\n  },\r\n\r\n  // Input Area\r\n  inputWrapper: {\r\n    backgroundColor: '#212121',\r\n    paddingHorizontal: 16,\r\n    paddingVertical: 12,\r\n    borderTopWidth: 1,\r\n    borderTopColor: '#2f2f2f',\r\n  },\r\n  inputContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'flex-end',\r\n    backgroundColor: '#2f2f2f',\r\n    borderRadius: 24,\r\n    paddingHorizontal: 8,\r\n    paddingVertical: 8,\r\n    borderWidth: 1,\r\n    borderColor: '#3f3f3f',\r\n  },\r\n  attachButton: {\r\n    padding: 8,\r\n  },\r\n  input: {\r\n    flex: 1,\r\n    color: '#fff',\r\n    fontSize: 15,\r\n    maxHeight: 120,\r\n    paddingHorizontal: 8,\r\n    paddingVertical: 8,\r\n  },\r\n  sendButton: {\r\n    width: 36,\r\n    height: 36,\r\n    borderRadius: 18,\r\n    backgroundColor: '#fff',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  sendButtonDisabled: {\r\n    backgroundColor: '#424242',\r\n  },\r\n  disclaimer: {\r\n    color: '#6b7280',\r\n    fontSize: 11,\r\n    textAlign: 'center',\r\n    marginTop: 8,\r\n  },\r\n\r\n  // Side Menu\r\n  menuOverlay: {\r\n    flex: 1,\r\n    backgroundColor: 'rgba(0,0,0,0.5)',\r\n    flexDirection: 'row',\r\n  },\r\n  sideMenu: {\r\n    width: width * 0.75,\r\n    maxWidth: 300,\r\n    backgroundColor: '#171717',\r\n    paddingTop: Platform.OS === 'android' ? 44 : 20,\r\n    paddingHorizontal: 16,\r\n  },\r\n  menuHeader: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 12,\r\n    paddingVertical: 20,\r\n    marginBottom: 10,\r\n  },\r\n  menuTitle: {\r\n    color: '#fff',\r\n    fontSize: 20,\r\n    fontWeight: '700',\r\n  },\r\n  menuItem: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 14,\r\n    paddingVertical: 14,\r\n    paddingHorizontal: 12,\r\n    borderRadius: 10,\r\n    marginBottom: 4,\r\n  },\r\n  menuItemText: {\r\n    color: '#fff',\r\n    fontSize: 15,\r\n  },\r\n  menuDivider: {\r\n    height: 1,\r\n    backgroundColor: '#2f2f2f',\r\n    marginVertical: 16,\r\n  },\r\n  menuSection: {\r\n    paddingHorizontal: 12,\r\n  },\r\n  menuSectionTitle: {\r\n    color: '#6b7280',\r\n    fontSize: 12,\r\n    fontWeight: '600',\r\n    textTransform: 'uppercase',\r\n    letterSpacing: 0.5,\r\n    marginBottom: 12,\r\n  },\r\n  statusRow: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 8,\r\n    marginBottom: 10,\r\n  },\r\n  statusIndicator: {\r\n    width: 8,\r\n    height: 8,\r\n    borderRadius: 4,\r\n    backgroundColor: '#6b7280',\r\n  },\r\n  statusGreen: {\r\n    backgroundColor: '#10b981',\r\n  },\r\n  statusLabel: {\r\n    color: '#9ca3af',\r\n    fontSize: 13,\r\n  },\r\n});\r\n\r\nexport default AIChatScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}